"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[25276],{747450:function(e,t,n){n.d(t,{u:function(){return i},m:function(){return o}});const i="https://airtable.com/shrgrUUYpanXEOoor?prefill_RequestStatus-All=Backlog",o="https://scaleapi.slack.com/archives/C02T81FBHSL"},366322:function(e,t,n){n.d(t,{fH:function(){return d},LO:function(){return p},wX:function(){return m}});var i=n(798748);const o=()=>({title:"Triage: Insufficient Capacity Allocations",children:[{title:"Are there enough permissions at each level on the project?",children:[{text:"Check if there are enough attempters",buttonText:"Permission & Assign: Attempters",checklistType:i.dB.Action,actionItem:i.tC.PermissionAndAssignAttempters},{text:"Check if there are enough reviewers",buttonText:"Permission & Assign: Reviewers",checklistType:i.dB.Action,actionItem:i.tC.PermissionAndAssignReviewers}]}]}),r=()=>{const e={text:"Do a quick sanity check of all the courses",buttonText:"All project courses",checklistType:i.dB.Action,actionItem:i.tC.AllProjectCourses},t={text:"Do a quick sanity check of the instruction updates changelog",buttonText:"Instruction update changelog",checklistType:i.dB.Action,actionItem:i.tC.InstructionUpdateChangelog},n={text:"Check course starts",buttonText:"Course starts",checklistType:i.dB.Action,actionItem:i.tC.CourseStarts},o={text:"Check for too many courses per new user",buttonText:"Course path",checklistType:i.dB.Action,actionItem:i.tC.CoursePath};return{title:"Triage: Low Courses Conversion",children:[{title:"Are workers making progress through courses?",children:[e,t,n,{text:"Check for blocking points in courses",buttonText:"Course blocking points",checklistType:i.dB.Action,actionItem:i.tC.CourseBlockingPoints},{text:"Check course scenarios",buttonText:"Course scenarios",checklistType:i.dB.Action,actionItem:i.tC.CourseScenarios},o]}]}},s=()=>({title:"Triage: Low Benchmark Conversion",children:[{title:"Are benchmark and disabling configs tuned properly?",children:[{text:"Configure the mininum required number of benchmarks",buttonText:"Tune min num benchmarks config",checklistType:i.dB.Action,actionItem:i.tC.TuneMinNumBenchmarksConfig},{text:"Configure the benchmark disabling thresholds",buttonText:"Tune disabling thresholds config",checklistType:i.dB.Action,actionItem:i.tC.TuneDisablingThresholdConfig}]}]}),a=()=>({title:"Triage: Low Instruction Item Benchchmark Conversion",children:[{title:"Are benchmark and disabling configs tuned properly?",children:[{text:"Do a quick sanity check of all the instruction items",buttonText:"All instruction items",checklistType:i.dB.Action,actionItem:i.tC.InstructionItemManager},{text:"Configure the mininum required number of instruction item benchmarks",buttonText:"Tune min num instruction item benchmarks config",checklistType:i.dB.Action,actionItem:i.tC.TuneMinNumInstructionItemBenchmarksConfig},{text:"Configure the instruction item benchmark disabling thresholds",buttonText:"Tune instruction item disabling thresholds config",checklistType:i.dB.Action,actionItem:i.tC.TuneInstructionItemDisablingThresholdConfig}]}]}),c=()=>({title:"Triage: Long Tail Tasks",children:[{title:"Are long tail tasks consuming excess resources?",children:[{text:"Identify if long tail tasks are a problem for this queue",buttonText:"LTT Dashboard",checklistType:i.dB.Action,actionItem:i.tC.CheckForLongTailTasks},{text:"Demote reviewers who frequently let through tasks you want to recall",buttonText:"Demote reviewers",checklistType:i.dB.Action,actionItem:i.tC.DemoteSuspiciousReviewers},{text:"Assign long tail tasks to your trusted reviewers",buttonText:"Assign LTT",checklistType:i.dB.Action,actionItem:i.tC.AssignTrustedWorkersLTT},{text:"Update project config to send rejected tasks back to the original attempter",buttonText:"Project config",checklistType:i.dB.Action,actionItem:i.tC.CheckAssignRejectionsConfig},{text:"Speed audit long tail tasks from the past day",buttonText:"Speed audit",checklistType:i.dB.Action,actionItem:i.tC.SpeedAuditLTT}]}]}),l=(()=>{const e={title:"Overview",children:[{title:"This page is under construction. \ud83d\udea7",children:[]}]};return{title:i.NZ.Overview,children:[e]}})(),d=(()=>{const e={title:"Workflow: Low Throughput",children:[{title:"Is throughput blocked?",children:[{text:"Check Corp Explain",buttonText:"Corp Explain",checklistType:i.dB.Action,actionItem:i.tC.CorpExplain},{text:"Check Allocation Explain",buttonText:"Allocation Explain",checklistType:i.dB.Action,actionItem:i.tC.AllocationExplain},{text:"Check for misconfigured configs and benchmark state",buttonText:"Misconfigured supply levers",checklistType:i.dB.Action,actionItem:i.tC.MisconfiguredSupplyLevers},{text:"Check for throttles",buttonText:"Throttles",checklistType:i.dB.Action,actionItem:i.tC.Throttles},{text:"Check whether long tail tasks are consuming excess resources",buttonText:"Long tail tasks",checklistType:i.dB.Triage,triageItem:i.zZ.LongTailTasks},{text:"Check if contributors have paused your project",buttonText:"Triage Contributor Choice",checklistType:i.dB.Action,actionItem:i.tC.TriagePausedPermissionGroup}]},{title:"Low conversion from courses?",children:[{text:"Check whether contributors are completing required courses",buttonText:"Low courses conversion",checklistType:i.dB.Triage,triageItem:i.zZ.LowCoursesConversion}]},{title:"Low conversion from benchmarks and instruction item benchmarks?",children:[{text:"Check whether contributors are meeting benchmark config requirements",buttonText:"Low benchmark conversion",checklistType:i.dB.Triage,triageItem:i.zZ.LowBenchmarkConversion},{text:"Check whether contributors are meeting instruction item benchmark config requirements",buttonText:"Low instruction item benchmark conversion",checklistType:i.dB.Triage,triageItem:i.zZ.LowInstructionItemBenchmarkConversion}]},{title:"Do I have enough capacity allocation? Did that damn allocation model give me crowd contributors?",children:[{text:"Check if you have Tableau access",buttonText:"Tableau Access",checklistType:i.dB.Action,actionItem:i.tC.TableauAccess},{text:"Check your manual and automated allocations",buttonText:"Capacity Allocation",checklistType:i.dB.Action,actionItem:i.tC.CapacityAllocation},{text:"Add additional permissions and/or permissions on the project",checklistType:i.dB.Triage,buttonText:"Insufficient capacity allocations",triageItem:i.zZ.InsufficientCapacityAllocations}]},{title:"I'm here and still stuck. What do I do?",children:[{text:"Consider consulting other Ops processes",buttonText:"Check Ops processes",checklistType:i.dB.Action,actionItem:i.tC.ThroughputOpsProcesses}]}]},t={title:"Workflow: Linters",children:[{title:"Check active linters",children:[{text:"Check what linters the project currently has",buttonText:"Active linters",checklistType:i.dB.Action,actionItem:i.tC.LinterConfig},{text:"Check if linters are blocking throughput",buttonText:"Debug linters",checklistType:i.dB.Action,actionItem:i.tC.LinterDebugging}]},{title:"Add new linters",children:[{text:"Test linters before adding them to the project",buttonText:"Test linters",checklistType:i.dB.Action,actionItem:i.tC.TuneLinters},{text:"Add new linters to the project",buttonText:"Add linters",checklistType:i.dB.Action,actionItem:i.tC.LinterConfig}]},{title:"Take actions on tasks/contributors which failed linters",children:[{text:"List and audit tasks which failed lint",buttonText:"Audit lint results",checklistType:i.dB.Action,actionItem:i.tC.AuditLintResults},{text:"Send low quality tasks back to queue",buttonText:"SBQ tasks",checklistType:i.dB.Action,actionItem:i.tC.MoveTasksInPipeline},{text:"Demote contributors who consistently fail linters",buttonText:"Demote contributors",checklistType:i.dB.Action,actionItem:i.tC.PermissionAndAssignReviewers},{text:"Teach contributors by adding courses",buttonText:"Add courses",checklistType:i.dB.Action,actionItem:i.tC.AllProjectCourses},{text:"Teach contributors by adding remedial courses",buttonText:"Add remedial courses",checklistType:i.dB.Action,actionItem:i.tC.RemedialCourses}]}]},n=o(),l=s(),d=a(),u=r(),p=c();return{title:i.NZ.Problems,children:[e,t,u,l,d,n,p]}})(),u=((()=>{const e={title:"Zero Review + Spotter Pipeline: Setup Checklist",children:[{title:"Have you properly setup zero review + spotter for this queue?",children:[{text:"Spotter Config: Save Initial Message Config",buttonText:"",checklistType:i.dB.Action,actionItem:i.tC.PermissionAndAssignSuperAttempters},{text:"Spotter Config: Set Pipeline Configuration",buttonText:"",checklistType:i.dB.Action,actionItem:i.tC.PermissionAndAssignSuperAttempters},{text:"Spotter Config: Set Spotter Payment",buttonText:"",checklistType:i.dB.Action,actionItem:i.tC.PermissionAndAssignSuperAttempters},{text:'0r Config: Set up Task Holdings. Use the strategy "zeroReview", enable for all your active review layers (except for L10), and input the Send to Audit Stage Rate (1 - L10 sample rate). Example: if you want 10% of the SAs\u2019 tasks to go to L10 (spotters) then set the Send to Audit Stage Rate to 0.9.',buttonText:"",checklistType:i.dB.Action,actionItem:i.tC.PermissionAndAssignSuperAttempters},{text:"0r Config: Confirm that Attempter pay is set up",buttonText:"",checklistType:i.dB.Action,actionItem:i.tC.PermissionAndAssignSuperAttempters},{text:"Create a slack channel for all your spotters",buttonText:"",checklistType:i.dB.Action,actionItem:i.tC.PermissionAndAssignSuperAttempters},{text:"Create a Notion webpage for your spotters. This is how you will share instructions, update common errors, share bonus information, and more. Message Shawn Farsai for access to the Notion workspace. You can create a new Spotter Webpage for your project in the table here. Make sure you use the template by clicking the `new` dropdown and picking the templated highlighted in the image below",buttonText:"",checklistType:i.dB.Action,actionItem:i.tC.PermissionAndAssignSuperAttempters}]}]};i.NZ.ZeroReviewSetupChecklist})(),(()=>{const e={title:"",children:[{title:"",children:[{text:"Spend 1-2 hours spotting your own queue to learn the optimal workflow",buttonText:"",checklistType:i.dB.Action,actionItem:i.tC.PermissionAndAssignSuperAttempters},{text:"Once you learn the workflow. Start filling out your Notion page with instructions and workflows for your spotters.",buttonText:"",checklistType:i.dB.Action,actionItem:i.tC.PermissionAndAssignSuperAttempters},{text:"Find your spotters (don\u2019t give them spotter permissions yet)",buttonText:"Permission Spotters",checklistType:i.dB.Action,actionItem:i.tC.PermissionAndAssignSpotters},{text:"Add them to slack, share the notion, and maybe even do an orientation webinar",buttonText:"",checklistType:i.dB.Action,actionItem:i.tC.PermissionAndAssignSuperAttempters},{text:"Now give the spotters permissions",buttonText:"Permission Spotters",checklistType:i.dB.Action,actionItem:i.tC.PermissionAndAssignSpotters},{text:"Promote Super Attempters",buttonText:"Permission Super Attempters",checklistType:i.dB.Action,actionItem:i.tC.PermissionAndAssignSuperAttempters}]}]};i.NZ.ZeroReviewSetupChecklist})(),(()=>{const e={title:"Zero Review + Spotter Pipeline: Daily Checklist",children:[{title:"Are my super attempters and spotters performing well?",children:[{text:"Check your Spotter TP and Spotter Send Rate",buttonText:"",checklistType:i.dB.Action,actionItem:i.tC.TableauAccess},{text:"Not productive \u2192 Message those people in slack to see why they\u2019re not working. Maybe you need to set a higher quota or change the pay formula",buttonText:"",checklistType:i.dB.Action,actionItem:i.tC.TableauAccess,shouldIndent:!0},{text:"Some spotters have a low send rate",buttonText:"Spotter Quality Manual Monitoring",checklistType:i.dB.Action,actionItem:i.tC.SpotterQualityManualMonitoring,shouldIndent:!0},{text:"I need more spotters",buttonText:"Permission & Assign: Spotters",checklistType:i.dB.Action,actionItem:i.tC.PermissionAndAssignSpotters,shouldIndent:!0},{text:"Check your quality - QIR sores in the Deep dive dash",buttonText:"",checklistType:i.dB.Action,actionItem:i.tC.TableauAccess},{text:"Is overall Spotters quality bad or just some spotters are bad?",buttonText:"",checklistType:i.dB.Action,actionItem:i.tC.TableauAccess,shouldIndent:!0},{text:"Some are bad",buttonText:"Demote: Spotters to L1",checklistType:i.dB.Action,actionItem:i.tC.DemoteSpotters,shouldDoubleIndent:!0},{text:"Overall quality is bad \u2192 You need to calibrate your spotters and teach them to be stricter. ",buttonText:"Spotter Quality Manual Monitoring",checklistType:i.dB.Action,actionItem:i.tC.SpotterQualityManualMonitoring,shouldDoubleIndent:!0},{text:"Are there common errors that everyone is making \u2192 Message in slack and explain to everyone the common error they should look for",buttonText:"",checklistType:i.dB.Action,actionItem:i.tC.TableauAccess,shouldDoubleIndent:!0},{text:"Is SAs quality bad?",buttonText:"",checklistType:i.dB.Action,actionItem:i.tC.TableauAccess,shouldIndent:!0},{text:"Demote Super Attempers",buttonText:"Demote: Super Attempters to L0",checklistType:i.dB.Action,actionItem:i.tC.DemoteSuperAttempters,shouldDoubleIndent:!0},{text:"Are your spotters leaving good inline comments? ",buttonText:"",checklistType:i.dB.Action,actionItem:i.tC.DemoteSuperAttempters},{text:"Download spotter comments and analyze trends.",buttonText:"Download spotter comments",checklistType:i.dB.Action,actionItem:i.tC.AnalyzeInlineComments,shouldIndent:!0},{text:"Can we promote more attempters to SA?",buttonText:"",checklistType:i.dB.Action,actionItem:i.tC.DemoteSuperAttempters},{text:"Find attempters to promote",buttonText:"Permission & Assign: Super Attempters",checklistType:i.dB.Action,actionItem:i.tC.PermissionAndAssignSuperAttempters,shouldIndent:!0}]}]};i.NZ.ZeroReviewDailyChecklist})(),[(()=>{const e={title:"Inline Tools",children:[{title:"Task Management",children:[{text:"",buttonText:"Send Tasks to Customer",checklistType:i.dB.Action,actionItem:i.tC.SendTasksToCustomer},{text:"",buttonText:"Move Tasks in Pipeline",checklistType:i.dB.Action,actionItem:i.tC.MoveTasksInPipeline},{text:"",buttonText:"Move Tasks in PipelineV3",checklistType:i.dB.Action,actionItem:i.tC.MoveTasksInPipelineV3},{text:"",buttonText:"Quarantine/Unquarantine Tasks or Subtasks",checklistType:i.dB.Action,actionItem:i.tC.QuarantineAndUnquarantineSubtasks},{text:"",buttonText:"Throttles",checklistType:i.dB.Action,actionItem:i.tC.Throttles}],hideCheckboxes:!0},{title:"Permission Management",children:[{text:"",buttonText:"Worker Sources",checklistType:i.dB.Action,actionItem:i.tC.WorkerSources},{text:"",buttonText:"Permission & Assign: Attempters",checklistType:i.dB.Action,actionItem:i.tC.PermissionAndAssignAttempters},{text:"",buttonText:"Permission & Assign: Reviewers",checklistType:i.dB.Action,actionItem:i.tC.PermissionAndAssignReviewers},{text:"",buttonText:"Permission & Assign: PipelineV3 QIR Auditors",checklistType:i.dB.Action,actionItem:i.tC.PermissionAndAssignPipelineV3QIRAuditors},{text:"",buttonText:"Demote Reviewers to Attempters",checklistType:i.dB.Action,actionItem:i.tC.DemoteReviewers},{text:"",buttonText:"Mass Disable Contributors",checklistType:i.dB.Action,actionItem:i.tC.MassDisableTaskers},{text:"",buttonText:"Mass Unassign Contributors",checklistType:i.dB.Action,actionItem:i.tC.MassUnassignProject},{text:"[Advanced]",buttonText:"Retroactive Enable/Disable",checklistType:i.dB.Action,actionItem:i.tC.RetroactiveEnableDisable}],hideCheckboxes:!0},{title:"Troubleshooting",children:[{text:"",buttonText:"Corp Explain",checklistType:i.dB.Action,actionItem:i.tC.CorpExplain},{text:"",buttonText:"Supply Lever Validity",checklistType:i.dB.Action,actionItem:i.tC.MisconfiguredSupplyLevers},{text:"",buttonText:"Capacity Allocation View",checklistType:i.dB.Action,actionItem:i.tC.CapacityAllocation}],hideCheckboxes:!0}]};return{title:i.NZ.Throughput,children:[e]}})(),(()=>{const e={title:"Inline Tools",children:[{title:"",children:[{text:"[TextCollection Only]",buttonText:"Generate Confusion Matrix",checklistType:i.dB.Action,actionItem:i.tC.GenerateConfusionMatrix}],hideCheckboxes:!0}]};return{title:i.NZ.DisablingLinting,children:[e]}})(),(()=>{const e={title:"Inline Tools",children:[{title:"",children:[{text:"",buttonText:"Benchmark Serving Configs",checklistType:i.dB.Action,actionItem:i.tC.BenchmarkServingConfigs},{text:"",buttonText:"Benchmark-Related Nice Configs",checklistType:i.dB.Action,actionItem:i.tC.BenchmarkNiceConfigs},{text:"",buttonText:"Misconfigured Supply Levers",checklistType:i.dB.Action,actionItem:i.tC.MisconfiguredSupplyLevers},{text:"",buttonText:"Configure Specific Benchmarks",checklistType:i.dB.Action,actionItem:i.tC.BenchmarkConfiguration},{text:"",buttonText:"Instruction Item Manager",checklistType:i.dB.Action,actionItem:i.tC.InstructionItemManager}],hideCheckboxes:!0}]};return{title:i.NZ.Benchmarks,children:[e]}})(),(()=>{const e={title:"Inline Tools",children:[{title:"",children:[{text:"[TextCollection Only]",buttonText:"Personalized Courses",checklistType:i.dB.Action,actionItem:i.tC.PersonalizedCourses},{text:"[TextCollection Only]",buttonText:"Generate Feedback Center",checklistType:i.dB.Action,actionItem:i.tC.GenerateFeedbackCenter}],hideCheckboxes:!0}]};return{title:i.NZ.Training,children:[e]}})(),(()=>{const e={title:"Incentives",children:[{title:"This is a monitoring/incentives section checklist",children:[{text:"This is a triage checklist item (monitoring/incentives section)",buttonText:"A triage button",checklistType:i.dB.Triage,triageItem:i.zZ.Placeholder},{text:"This is an action checklist item (monitoring/incentives section)",buttonText:"An action button",checklistType:i.dB.Action,actionItem:i.tC.Placeholder}]}]};return{title:i.NZ.Incentives,children:[e]}})()]),p={[i.zZ.InsufficientCapacityAllocations]:o(),[i.zZ.LowBenchmarkConversion]:s(),[i.zZ.LowInstructionItemBenchmarkConversion]:a(),[i.zZ.LowCoursesConversion]:r(),[i.zZ.Placeholder]:{title:"Triage: Placeholder -- TODO",children:[{title:"This is a placeholder section checklist",children:[{text:"This is a placeholder action item for placeholder triage",buttonText:"A button",checklistType:i.dB.Action,actionItem:i.tC.Placeholder}]}]},[i.zZ.LongTailTasks]:c()},m=((()=>{const e={title:"Inline Tools",children:[{title:"Permissions & Contributors",children:[{text:"",buttonText:"Permission & Assign: Super Attempters",checklistType:i.dB.Action,actionItem:i.tC.PermissionAndAssignSuperAttempters},{text:"",buttonText:"Permission & Assign: Spotters",checklistType:i.dB.Action,actionItem:i.tC.PermissionAndAssignSpotters},{text:"",buttonText:"Demote: Super Attempters to L0",checklistType:i.dB.Action,actionItem:i.tC.DemoteSuperAttempters},{text:"",buttonText:"Demote: Spotters to L1",checklistType:i.dB.Action,actionItem:i.tC.DemoteSpotters}],hideCheckboxes:!0},{title:"Task Management",children:[{text:"",buttonText:"Reserve Subtasks for Zero Review",checklistType:i.dB.Action,actionItem:i.tC.SubtaskReservation},{text:"",buttonText:"Recall Super Attempter Tasks",checklistType:i.dB.Action,actionItem:i.tC.MoveTasksInPipeline},{text:"",buttonText:"Release Audit Stages",checklistType:i.dB.Action,actionItem:i.tC.ReleaseAuditStages}],hideCheckboxes:!0},{title:"Quality",children:[{text:"",buttonText:"Spotter Performance Decision Tree",checklistType:i.dB.Action,actionItem:i.tC.SpotterPerformanceDecisionTree},{text:"",buttonText:"Spotter Quality Manual Monitoring",checklistType:i.dB.Action,actionItem:i.tC.SpotterQualityManualMonitoring},{text:"",buttonText:"Spotter Audit Tool",checklistType:i.dB.Action,actionItem:i.tC.SpotterAuditTool}],hideCheckboxes:!0}]};i.NZ.SpotterPipeline})(),(()=>{const e={title:"Inline Tools",children:[{title:"Permissions & Contributors",children:[{text:"",buttonText:"Promote: Attempters to Spotters",checklistType:i.dB.Action,actionItem:i.tC.PromoteAttemptersToSpotters},{text:"",buttonText:"Demote: Spotters to Attempters",checklistType:i.dB.Action,actionItem:i.tC.DemoteSpottersToAttempters}],hideCheckboxes:!0}]};i.NZ.Autopilot})(),[l,d,...u])},125276:function(e,t,n){n.d(t,{RV:function(){return De},ZP:function(){return Me}});var i=n(824246),o=n(792739),r=n(285556),s=n(271599),a=n(167469),c=n(372680),l=n(599789),d=n(39561),u=n(589593),p=n(958008),m=n(604375),h=n(629586),x=n(68649),g=n(161320),v=n.n(g),f=n(686677),y=n(827378),T=n(875333),j=n(818948),k=n(700190),b=n(279220),C=n(411356),A=n(802638);function S(e,t,n,i,o,r,s){try{var a=e[r](s),c=a.value}catch(l){return void n(l)}a.done?t(c):Promise.resolve(c).then(i,o)}const I=(0,x.ZL)({button:{marginLeft:10,float:"right"},marginTop:{marginTop:24}});var w=({projectId:e,isModalOpen:t,setModalOpen:n,taskType:o,projectDescription:s,setProjectDescription:c,isAttemptCompare:l,setIsAttemptCompare:d})=>{const u=I(),{0:p,1:h}=(0,y.useState)(!1),x=function(){var t,i=(t=function*(){h(!0);try{yield(0,r.ZP)(null,"corp-api/update_project_description",{method:"POST",body:{description:s,project:e,isAttemptCompare:l}}),n(!1)}catch(t){(0,r.vj)(t,{handleHttp:!0})}finally{h(!1)}},function(){var e=this,n=arguments;return new Promise((function(i,o){var r=t.apply(e,n);function s(e){S(r,i,o,s,a,"next",e)}function a(e){S(r,i,o,s,a,"throw",e)}s(void 0)}))});return function(){return i.apply(this,arguments)}}();return(0,i.jsxs)(A.u_,{isOpen:t,onRequestClose:()=>n(!1),children:[(0,i.jsx)(A.xB,{onRequestClose:()=>n(!1),children:"Update Project Description"}),(0,i.jsxs)(A.fe,{children:[(0,i.jsx)(C.oH,{value:s,placeholder:s,onChange:e=>c(e.target.value)}),o===a.TaskType.Chat&&(0,i.jsxs)("div",{className:u.marginTop,children:[(0,i.jsx)(m.rs,{label:"Is Attempt Compare",checked:l,onChange:()=>d(!l)}),(0,i.jsxs)("p",{children:["Attempt Compare projects include 1. response writing or rewriting during attempt, and 2. side-x-side comparison against SOTA model during review."," ",(0,i.jsx)("a",{href:"https://scale.atlassian.net/wiki/spaces/OP/pages/474120212/AttemptCompare+Pipeline",children:"See Docs"})]})]}),(0,i.jsx)("br",{}),(0,i.jsx)(C.zx,{primary:!0,type:"button",disabled:p,className:u.button,onClick:x,children:p?"Loading...":"Save"}),(0,i.jsx)("br",{})]})]})},P=n(711877),N=n(956840);function _(e,t,n,i,o,r,s){try{var a=e[r](s),c=a.value}catch(l){return void n(l)}a.done?t(c):Promise.resolve(c).then(i,o)}const B=Object.values(N.ProjectLlmType).map((e=>({id:e,value:e}))),R=(0,x.ZL)({button:{marginLeft:10,float:"right"},llmTypeCheckboxMenu:{"& ul":{position:"relative !important",maxHeight:"20rem !important"},width:"100%"}});var q=({projectId:e,isModalOpen:t,hideModal:n})=>{const o=R(),{0:s,1:a}=(0,y.useState)(!1),{0:c,1:l}=(0,y.useState)([]),d="Other",{0:u,1:p}=(0,y.useState)(d),m=e=>{var t;return e.map((e=>null!==(t=e.value)&&void 0!==t?t:u||d))},h=function(){var t,i=(t=function*(){a(!0);try{yield(0,r.ZP)(null,"corp-api/update_project_llm_types",{method:"POST",body:{projectLlmTypes:m(c),project:e}}),p(d),n(m(c),!0),l([])}catch(t){(0,r.vj)(t,{handleHttp:!0})}finally{a(!1)}},function(){var e=this,n=arguments;return new Promise((function(i,o){var r=t.apply(e,n);function s(e){_(r,i,o,s,a,"next",e)}function a(e){_(r,i,o,s,a,"throw",e)}s(void 0)}))});return function(){return i.apply(this,arguments)}}(),x=()=>{l([]),p(d),n([],!1)};return(0,i.jsxs)(A.u_,{isOpen:t,onRequestClose:x,children:[(0,i.jsx)(A.xB,{onRequestClose:x,children:"Update Project Type(s)"}),(0,i.jsxs)(A.fe,{children:[(0,i.jsx)(P.os,{className:o.llmTypeCheckboxMenu,options:B,value:c,onChange:l}),(0,i.jsx)("br",{}),(0,i.jsx)(C.zx,{primary:!0,type:"button",disabled:!c||s,className:o.button,onClick:h,children:s?"Loading...":"Save"}),(0,i.jsx)("br",{})]})]})},D=n(623387),E=n(798748),O=n(635003),L=n(418638);function M(e,t,n,i,o,r,s){try{var a=e[r](s),c=a.value}catch(l){return void n(l)}a.done?t(c):Promise.resolve(c).then(i,o)}function $(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var r=e.apply(t,n);function s(e){M(r,i,o,s,a,"next",e)}function a(e){M(r,i,o,s,a,"throw",e)}s(void 0)}))}}function Z(){return(Z=$((function*(e){if(e)return yield(0,r.ZP)(null,`corp-api/lookup/${e}/config?project=${e}&type=project`,{method:"GET"})}))).apply(this,arguments)}function G(e){const{0:t,1:n}=(0,y.useState)(!0),{0:i,1:o}=(0,y.useState)(void 0),r=(0,L.Z)($((function*(){return function(e){return Z.apply(this,arguments)}(e)})),[e]);(0,y.useEffect)((()=>{r.loading||n(!1)}),[r.loading]),(0,y.useEffect)((()=>{r.value&&o(r.value)}),[r.value]);const s=(0,y.useCallback)((()=>{r.retry()}),[r]);return{loadingConfig:t,errorConfig:r.error,projectConfig:i,retryConfig:s}}var z=n(478),W=n(366322),F=n(554211),V=n(500718);function H(e,t,n,i,o,r,s){try{var a=e[r](s),c=a.value}catch(l){return void n(l)}a.done?t(c):Promise.resolve(c).then(i,o)}const Q=e=>{const t=Y(),n=e.activeScrollName===e.title?t.selectedNavItemElement:t.navItemElem;return(0,i.jsx)("div",{children:(0,i.jsx)("a",{className:n,href:`#${e.title.replace(/\s+/g,"").toLowerCase()}`,children:e.title})})},U=e=>{const t=Y(),n=(0,f.useRouter)(),o=e.activeScrollName===e.title?t.selectedNavItemElement:t.navItemElem;return(0,i.jsx)("div",{onClick:()=>{n.push(e.link)},children:(0,i.jsx)("a",{className:o,children:e.title})})},J=e=>{const t=Y(),n=(0,f.useRouter)();return(0,i.jsx)("div",{children:e.sectionTitle&&(0,i.jsxs)("div",{onClick:()=>{e.setActionItem&&e.setActionItem(void 0),e.sectionTitle===E.NZ.Problems?n.push(`/corp/qm/queue/${e.projectId}/problems`):n.push(`/corp/qm/queue/${e.projectId}/overview`)},children:[(0,i.jsx)("div",{className:t.navSection,children:(0,i.jsx)(h.H3,{children:e.sectionTitle.toUpperCase()})}),e.sectionChildren.map((t=>(0,i.jsx)(Q,{title:t.title,activeScrollName:e.activeScrollName},e.sectionTitle+t.title)))]})})},Y=(0,x.ZL)({sectionTitle:{fontSize:12,fontWeight:600,letterSpacing:"0.7px",margin:0,padding:8,marginTop:12},navMask:{position:"fixed",bottom:0,width:300,height:"50%",pointerEvents:"none",background:"linear-gradient(180deg, rgba(255,255,255,0) 0%, rgba(255,255,255,0) 80%, rgba(255,255,255,0.9) 100%)"},navItemElem:{display:"block",color:"black",padding:"2px 0px",fontSize:14,lineHeight:"20px",fontWeight:400,borderRadius:4,opacity:.65,transition:"all 120ms ease-out","&:hover":{opacity:1}},selectedNavItemElement:{display:"block",color:"var(--color-RemoBlue)",padding:"2px 0px",fontSize:14,lineHeight:"20px",fontWeight:600,borderRadius:4,opacity:.65,transition:"all 120ms ease-out","&:hover":{opacity:1}},navSection:{marginTop:24},externalLink:{color:"black",fontSize:14,fontWeight:400}});var X,K=e=>{var t,n;const{projectId:o,activeScrollName:r,taskType:s,taskTemplateVersion:c,hasBaseProject:d,quickLinterTaskTypes:u,usesPipelineV3:p}=e,{projectConfig:m}=G(o),x=Y(),g=(0,l.isContentAndLanguage)(s),v=g&&-1===c,f=[a.TaskType.DocumentTranscription,a.TaskType.NamedEntityRecognition,a.TaskType.GenericDataCollection,a.TaskType.ImageAnnotation].includes(s),y=g,T=g,{loading:j,value:k,error:C}=(0,b.Z)((A=function*(){return(0,z.isTaxonomyManagementConfigEnabled)(o)},function(){var e=this,t=arguments;return new Promise((function(n,i){var o=A.apply(e,t);function r(e){H(o,n,i,r,s,"next",e)}function s(e){H(o,n,i,r,s,"throw",e)}r(void 0)}))}),[o]);var A;const S=!j&&!C&&k,I=s===a.TaskType.DocumentTranscription,w=s===a.TaskType.DocumentModel,P=!p||[a.TaskType.TextCollection,a.TaskType.Chat,a.TaskType.MultiChat,a.TaskType.SensorFusion].includes(s),N=s===a.TaskType.TextCollection||(0,l.isTaskType2D)(s)||(0,l.isTaskTypeLidar)(s)&&s!==a.TaskType.LidarLinking,_=s===a.TaskType.TextCollection,B=!d&&V.ALLOWED_PRODUCT_TYPES.includes(s),R=g,q=e.projectType===l.ProjectType.SelfServe||(null===m||void 0===m||null===(t=m.config)||void 0===t||null===(n=t.nextGenInstructionsConfig)||void 0===n?void 0:n.enabled.value),D=(0,F.ZP)("project-documents-announcements",{projectId:o},!1);return(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:x.navSection,children:(0,i.jsx)(h.H3,{children:"Project Setup"})}),v&&(0,i.jsx)(U,{title:"Archetype Selector",link:`/corp/qm/queue/${o}/archetypes`,activeScrollName:r}),S&&(0,i.jsx)(U,{title:"Taxonomy Management",link:`/corp/qm/queue/${o}/taxonomyManagement`,activeScrollName:r}),B&&(0,i.jsx)(U,{title:E.NZ.AVTaxonomyService,link:`/corp/qm/queue/${o}/avTaxonomyService`,activeScrollName:r}),f&&(0,i.jsx)(U,{title:"Task Params Editor",link:`/corp/qm/queue/${o}/params`,activeScrollName:r}),I&&(0,i.jsx)(U,{title:"Document Task Creator",link:`/corp/qm/queue/${o}/documentTaskCreator`,activeScrollName:r}),P&&(0,i.jsx)(U,{title:"Pipeline Editor",link:`/corp/qm/queue/${o}/pipeline`,activeScrollName:r}),(0,i.jsx)(U,{title:"Project Roles and Responsibilities",link:`/corp/qm/queue/${o}/owners`,activeScrollName:r}),(0,i.jsx)(U,{title:E.NZ.StaffingExceptionForm,link:`/corp/qm/queue/${o}/staffingExceptionForm`,activeScrollName:r}),N&&(0,i.jsx)(U,{title:E.NZ.GraderConfigsEditor,link:`/corp/qm/queue/${o}/graderConfigsEditor`,activeScrollName:r}),(0,i.jsx)(U,{title:E.NZ.BillingVersionEditor,link:`/corp/qm/queue/${o}/billingVersionEditor`,activeScrollName:r}),y&&(0,i.jsx)(U,{title:"Task Templates Editor",link:`/corp/qm/queue/${o}/templates`,activeScrollName:r}),q&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(U,{title:E.NZ.InstructionsTaxonomy,link:`/corp/qm/queue/${o}/instructionsTaxonomy`,activeScrollName:r}),(0,i.jsx)(U,{title:E.NZ.ProjectTaxonomyVersions,link:`/corp/qm/queue/${o}/versions`,activeScrollName:r})]}),(0,i.jsx)(U,{title:E.NZ.PayRateCardPreview,link:`/corp/qm/queue/${o}/payRateCardPreview`}),(0,i.jsx)(U,{title:E.NZ.Qualifications,link:`/corp/qm/queue/${o}/qualifications`,activeScrollName:r})]}),D&&(0,i.jsxs)("div",{className:x.navSection,children:[(0,i.jsx)(h.H3,{children:"Outlier"}),(0,i.jsx)(U,{title:E.NZ.ProjectDocumentsAndAnnouncements,link:`/corp/qm/queue/${o}/projectDocumentsAndAnnouncements`,activeScrollName:r})]}),(0,i.jsxs)("div",{className:x.navSection,children:[(0,i.jsx)(h.H3,{children:"Configs"}),(0,i.jsx)(U,{title:"Disabling & Linting",link:`/corp/qm/queue/${o}/quality`,activeScrollName:r}),(0,i.jsx)(U,{title:"Full Configs",link:`/corp/qm/queue/${o}/config`,activeScrollName:r}),T&&(0,i.jsx)(U,{title:E.NZ.SpecializedReviewRouting,link:`/corp/qm/queue/${o}/specializedReviewRouting`,activeScrollName:r}),u.has(s)&&(0,i.jsx)(U,{title:"Quick Linters",link:`/corp/qm/queue/${o}/quick-linters`,activeScrollName:r})]}),(0,i.jsx)("div",{className:x.navSection,children:(0,i.jsx)(h.H3,{children:"Data & Monitoring"})}),(0,i.jsx)(U,{title:"Tasks",link:`/corp/qm/queue/${e.projectId}/tasks`,activeScrollName:r}),(0,i.jsx)(U,{title:"Subtasks",link:`/corp/qm/queue/${e.projectId}/subtasks`,activeScrollName:r}),(0,i.jsx)(U,{title:"Throughput",link:`/corp/qm/queue/${e.projectId}/throughput`,activeScrollName:r}),(0,i.jsx)(U,{title:"Incident Flags",link:`/corp/qm/queue/${e.projectId}/incidentFlags`,activeScrollName:r}),(0,i.jsx)(U,{title:"JSON Viewer",link:`/corp/qm/queue/${e.projectId}/jsonViewer`,activeScrollName:r}),w&&(0,i.jsx)(U,{title:E.NZ.DocumentModelAuditErrors,link:`/corp/qm/queue/${e.projectId}/documentModelAuditErrors`,activeScrollName:r}),(0,i.jsx)(U,{title:E.NZ.QualityMetrics,link:`/corp/qm/queue/${e.projectId}/qualityMetrics`,activeScrollName:r}),(0,i.jsx)(U,{title:E.NZ.WorkerPerformance,link:`/corp/qm/queue/${e.projectId}/workerPerformance`,activeScrollName:r}),(0,i.jsx)(U,{title:`GenAI Ops Hub ${O.s4.Quality}`,link:`/corp/genai-ops-hub/projects/${e.projectId}/${O.s4.Quality}`,activeScrollName:r}),R&&(0,i.jsx)(U,{title:E.NZ.QueryPlayground,link:`/corp/qm/queue/${e.projectId}/queryPlayground`,activeScrollName:r}),(0,i.jsx)(U,{title:E.NZ.ActionBatches,link:`/corp/qm/queue/${e.projectId}/actionBatches`,activeScrollName:r}),(0,i.jsx)(U,{title:E.NZ.PaySandbox,link:`/corp/qm/queue/${e.projectId}/paySandbox`,activeScrollName:r}),(0,i.jsx)("div",{className:x.navSection,children:(0,i.jsx)(h.H3,{children:"Actions"})}),(0,i.jsx)(U,{title:E.NZ.DisableProject,link:`/corp/qm/queue/${e.projectId}/disable`,activeScrollName:r}),(0,i.jsx)(U,{title:E.NZ.ActionDirectory,link:`/corp/qm/queue/${e.projectId}/actions`,activeScrollName:r}),(0,i.jsx)("div",{className:x.navSection,children:(0,i.jsx)(h.H3,{children:"Project Levers"})}),(0,i.jsx)(U,{title:"Benchmarks",link:`/corp/qm/queue/${e.projectId}/benchmarks`,activeScrollName:r}),(0,i.jsx)(U,{title:"Prioritize",link:`/corp/qm/queue/${e.projectId}/priority`,activeScrollName:r}),(0,i.jsx)(U,{title:"Incentives",link:`/corp/qm/queue/${e.projectId}/incentives`,activeScrollName:r}),(0,i.jsx)(U,{title:"Badges",link:`/corp/qm/queue/${e.projectId}/badges`,activeScrollName:r}),(0,i.jsx)(U,{title:"Training",link:`/corp/qm/queue/${e.projectId}/training`,activeScrollName:r}),(0,i.jsx)(U,{title:"Zero Review + Spotter Pipeline",link:`/corp/qm/queue/${e.projectId}/spotterPipeline`,activeScrollName:r}),(0,i.jsx)(U,{title:"Autopilot",link:`/corp/qm/queue/${e.projectId}/autopilot`,activeScrollName:r}),(0,i.jsx)(U,{title:"Rules",link:`/corp/qm/queue/${e.projectId}/rules`,activeScrollName:r}),(0,i.jsx)(U,{title:"Reviewer Feedback",link:`/corp/qm/queue/${e.projectId}/reviewerFeedback`,activeScrollName:r}),(0,i.jsx)(U,{title:"Speed Audit",link:`/corp/qm/queue/${e.projectId}/speedAudit`,activeScrollName:r}),_&&(0,i.jsx)(U,{title:E.NZ.BenchmarkSpeedAudit,link:`/corp/qm/queue/${o}/benchmarkSpeedAudit`,activeScrollName:r}),(0,i.jsx)(U,{title:"Audit Dashboard",link:`/corp/qm/queue/${e.projectId}/auditDashboard`,activeScrollName:r}),(0,i.jsx)(U,{title:"Task Support Ticket",link:`/corp/support_ticket/${e.projectId}`,activeScrollName:r}),(0,i.jsx)(U,{title:E.NZ.TaskerOperations,link:`/corp/qm/queue/${e.projectId}/operations`,activeScrollName:r}),(0,i.jsx)(J,{projectId:e.projectId,sectionTitle:W.fH.title,sectionChildren:W.fH.children,activeScrollName:r,setActionItem:e.setActionItem},W.fH.title),(0,i.jsx)("div",{className:x.navMask})]})},ee=n(48725),te=n(665676);!function(e){e[e.MAIN_VIEW=0]="MAIN_VIEW",e[e.CREATE_TEAM_VIEW=1]="CREATE_TEAM_VIEW",e[e.ASSIGN_TEAM_VIEW=2]="ASSIGN_TEAM_VIEW"}(X||(X={}));const ne={[X.MAIN_VIEW]:"Create/Assign to Work Team(s)",[X.CREATE_TEAM_VIEW]:"Create Subteam",[X.ASSIGN_TEAM_VIEW]:"Assign Current Project to Team"},ie={severity:"success",content:"Successfully assigned!"},oe={severity:"success",content:"Successfully created!"},re={severity:"error",content:"something went wrong, please try again."},se="617709575ddbae6a1edab50d",ae="Root Team";var ce=n(298784),le=n.n(ce),de=n(637723),ue=n(747450);function pe(e,t,n,i,o,r,s){try{var a=e[r](s),c=a.value}catch(l){return void n(l)}a.done?t(c):Promise.resolve(c).then(i,o)}function me(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function he(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){me(e,t,n[t])}))}return e}const xe=(0,x.ZL)({container:{width:400,display:"flex",flexDirection:"column",alignItems:"center","& label":{padding:"10px 0",fontSize:16,fontWeight:"bold"}},actionWraper:{width:"100%"}});var ge=({setCurrentStage:e,setAlertStatus:t,setAddedWorkerTeams:n,projectId:o,team:s,TeamSelector:a})=>{const c=xe(),{0:d,1:u}=(0,y.useState)(!1),{0:p,1:h}=(0,y.useState)({primaryTeamAssignments:[],secondaryTeamAssignments:[]}),x=le().reverse([...l.RealReviewLevel]),{0:g,1:v}=(0,y.useState)({tier:l.ReviewTier.primaryTeamAssignments,level:null}),{loading:f,response:T}=(0,k.h)(`corp-api/worker_teams/team/${s.id}/team_assignments`);(0,y.useEffect)((()=>{if(!1===f&&!1===d){const e=[],t=[];null===T||void 0===T||T.forEach((({projectId:n,tier:i,reviewLevel:o})=>{"Primary"===i?o?e.push({projectId:n,reviewLevel:o}):e.push({projectId:n}):"Secondary"===i&&(o?t.push({projectId:n,reviewLevel:o}):t.push({projectId:n}))})),h({primaryTeamAssignments:e,secondaryTeamAssignments:t})}}),[f,d]);const j=(0,y.useCallback)((b=function*(){const a=g.level||0===g.level?{projectId:o,reviewLevel:g.level}:{projectId:o};u(!0);try{const o=yield(0,r.ZP)(null,"internal/pay/guardrail",{method:"GET",query:a});if(!(null===o||void 0===o?void 0:o.payConfigSetupDone))return t({severity:re.severity,content:(0,i.jsxs)("div",{children:["It looks like the pay configuration in this project is not setup for",le().isNil(g.level)?" any review levels":" review level: "+g.level,"!",(0,i.jsxs)("span",{style:{margin:"2px 0",display:"inline-block"},children:["Please fill out"," ",(0,i.jsx)("a",{rel:"noopener noreferrer",target:"_blank",href:ue.u,children:"this form"})," ","and our pay team will set it up. For questions, post in"," ",(0,i.jsx)("a",{rel:"noopener noreferrer",target:"_blank",href:ue.m,children:"#ops-pay"})]})]})}),void u(!1);const c=yield(0,de.wO)("updateTeamConfigField",{teamId:s.id,key:g.tier,value:[...p[g.tier],a],isClear:!1});if(u(!1),"completed"===c.status)c.jsonOutput.success?(t(ie),n((e=>{const{primary:t,secondary:n}=e;return g.tier===l.ReviewTier.primaryTeamAssignments?{primary:[...t,s.name],secondary:[...n]}:{primary:[...t],secondary:[...n,s.name]}})),e(X.MAIN_VIEW)):t({severity:re.severity,content:c.jsonOutput.message});else{const e=c.jsonOutput;t(e?{severity:"error",content:e.message}:re)}}catch(d){var c;u(!1),t({severity:"error",content:(null===(c=d.response)||void 0===c?void 0:c.message)||d}),(0,r.cF)(d,"Failed to assign team a project.")}setTimeout((()=>{t(null)}),1e4)},function(){var e=this,t=arguments;return new Promise((function(n,i){var o=b.apply(e,t);function r(e){pe(o,n,i,r,s,"next",e)}function s(e){pe(o,n,i,r,s,"throw",e)}r(void 0)}))}),[g.level,g.tier,o,s.id,s.name,p,t,n,e]);var b;return(0,i.jsxs)("div",{className:c.container,children:[(0,i.jsxs)("fieldset",{className:"fieldset fieldset--long",children:[(0,i.jsx)("label",{children:"Choose Worker Team"}),(0,i.jsx)(a,{})]}),f&&(0,i.jsx)(m.$j,{size:"sm"}),(0,i.jsxs)("fieldset",{className:"fieldset fieldset--long",children:[(0,i.jsx)("label",{children:"Review Tier"}),(0,i.jsxs)(m.Ee,{onChange:e=>v(he({},g,{tier:e})),value:g.tier,row:!0,children:[(0,i.jsx)(m.Y8,{value:l.ReviewTier.primaryTeamAssignments,labelPlacement:"end",label:"Primary",disabled:!1}),(0,i.jsx)(m.Y8,{value:l.ReviewTier.secondaryTeamAssignments,labelPlacement:"end",label:"Secondary",disabled:!1})]})]}),(0,i.jsxs)("fieldset",{className:"fieldset fieldset--long",children:[(0,i.jsx)("label",{children:"Review Level"}),(0,i.jsxs)(m.Ph,{label:"Review Level",value:g.level,onChange:e=>{v(he({},g,{level:e.target.value}))},children:[x.map((e=>(0,i.jsx)(m.Wx,{value:e,children:(0,l.getSanitizedReviewLevel)(e)},e))),(0,i.jsx)(m.Wx,{value:null,children:"All Layers"},"all")]})]}),(0,i.jsx)(ee.kX,{className:c.actionWraper,children:(0,i.jsx)(m.zx,{type:"primary",startIcon:d?(0,i.jsx)(m.$j,{size:"sm"}):null,disabled:f||d,onClick:j,children:"Assign"})})]})},ve=ge;const fe=(0,x.ZL)({container:{width:400},buttonWrapper:{marginTop:10,display:"flex",margin:"5px 0",justifyContent:"space-between","& span":{fontWeight:"bold",color:"white"}},header:{"& h2":{display:"flex",justifyContent:"space-between"}},name:{padding:"5"},nameContainer:{"& > div":{display:"flex",flexDirection:"column"},"& span":{padding:"5px 8px",margin:5,borderRadius:20,color:"white",alignSelf:"baseline"}},primaryName:{borderRadius:5,backgroundColor:"var(--color-RemoGray01)",padding:"10px 2px",height:100,display:"flex",flexWrap:"wrap",alignContent:"start","& span":{backgroundColor:"var(--color-LightPeriwinkle)"}},secondaryName:{borderRadius:5,backgroundColor:"var(--color-RemoGray01)",padding:"10px 2px",height:100,display:"flex",flexWrap:"wrap",alignContent:"start","& span":{backgroundColor:"var(--color-LightMauve)"}}});var ye=({setCurrentStage:e,setAlertStatus:t,addedwokerTeams:n})=>{const o=fe();return(0,i.jsxs)("div",{className:o.container,children:[(0,i.jsxs)("div",{className:o.buttonWrapper,children:[(0,i.jsx)(m.zx,{type:"info",onClick:()=>{e(X.ASSIGN_TEAM_VIEW),t(null)},children:"assign to existing team"}),(0,i.jsx)(m.zx,{type:"warning",onClick:()=>{e(X.CREATE_TEAM_VIEW),t(null)},children:"create a new worker team"})]}),(0,i.jsxs)("div",{className:o.nameContainer,children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{children:"primary"}),(0,i.jsx)("div",{className:o.primaryName,children:n.primary.map((e=>(0,i.jsx)("span",{children:e},e)))})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{children:"secondary"}),(0,i.jsx)("div",{className:o.secondaryName,children:n.secondary.map((e=>(0,i.jsx)("span",{children:e},e)))})]})]})]})};function Te(e,t,n,i,o,r,s){try{var a=e[r](s),c=a.value}catch(l){return void n(l)}a.done?t(c):Promise.resolve(c).then(i,o)}const je=(0,x.ZL)({container:{width:400,display:"flex",flexDirection:"column",alignItems:"center","& label":{padding:"10px 0",fontSize:16,fontWeight:"bold"},"& input":{width:"80% !important"}},actionWraper:{width:"100%"}});var ke=({team:e,setTeam:t,setCurrentStage:n,setAlertStatus:o,TeamSelector:s})=>{const a=je(),{0:c,1:l}=(0,y.useState)(!1),{0:d,1:u}=(0,y.useState)("Untitled"),p=function(){var i,s=(i=function*(){l(!0);try{const i=yield(0,de.wO)("createSubteam",{parentTeamId:e.id,subteamName:d});l(!1);const r=i.jsonOutput;"completed"===i.status&&r.subteamId?(t({id:r.subteamId,name:d}),n(X.ASSIGN_TEAM_VIEW),o(oe)):o(r?{severity:"error",content:r.message}:re)}catch(i){l(!1),o({severity:"error",content:i.response.error}),(0,r.cF)(i,"Failed to create a worker team.")}setTimeout((()=>{o(null)}),1e4)},function(){var e=this,t=arguments;return new Promise((function(n,o){var r=i.apply(e,t);function s(e){Te(r,n,o,s,a,"next",e)}function a(e){Te(r,n,o,s,a,"throw",e)}s(void 0)}))});return function(){return s.apply(this,arguments)}}();return(0,i.jsxs)("div",{className:a.container,children:[(0,i.jsxs)("fieldset",{className:"fieldset fieldset--long",children:[(0,i.jsx)("label",{children:"Choose Parent Team"}),(0,i.jsx)(s,{})]}),(0,i.jsxs)("fieldset",{className:"fieldset fieldset--long",children:[(0,i.jsx)("label",{children:"Subteam Name"}),(0,i.jsx)(m.oi,{value:d,onChange:e=>{u(e.target.value)},error:!d})]}),(0,i.jsx)(ee.kX,{className:a.actionWraper,children:(0,i.jsxs)(m.zx,{type:"primary",disabled:c||!d,onClick:p,children:[c&&(0,i.jsx)(m.$j,{size:"sm"}),"Create"]})})]})},be=ke;function Ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){Ce(e,t,n[t])}))}return e}const Se=({team:e,setTeam:t,isOpen:n,setIsOpen:r})=>(0,i.jsx)(m.J2,{tooltip:"View Worker Team Directory",targetOpen:(0,i.jsx)(m.zx,{fullWidth:!0,endIcon:(0,i.jsx)(o.G,{icon:"caret-up"}),children:e.name}),targetClosed:(0,i.jsx)(m.zx,{fullWidth:!0,endIcon:(0,i.jsx)(o.G,{icon:"caret-down"}),children:e.name}),width:600,maxHeight:450,isOpen:n,children:(0,i.jsx)(te.l,{teamId:e.id,TeamSelectButton:()=>(0,i.jsx)(m.Av,{type:"primary",children:"+"}),onSelectTeam:(e,n)=>{t({id:e,name:n}),r(!1)}})}),Ie=(0,x.ZL)({mainViewWrapper:{display:"flex"},header:{"& h2":{display:"flex"},"& span":{fontSize:20,color:"var(--color-RemoBlue)"}},right:{"& span":{fontSize:20},marginLeft:"auto"}});var we=({setRefetchState:e,showTeamAssignmentDialog:t,setShowTeamAssignmentDialog:n,projectId:r})=>{const s=Ie(),{0:a,1:c}=(0,y.useState)(X.MAIN_VIEW),{0:l,1:d}=(0,y.useState)(null),{0:u,1:p}=(0,y.useState)({primary:[],secondary:[]}),{0:h,1:x}=(0,y.useState)({id:se,name:ae}),{0:g,1:v}=(0,y.useState)(!1);if(!t)return null;const f={setCurrentStage:c,setAlertStatus:d,team:h,setTeam:x,TeamSelector:()=>(0,i.jsx)(Se,{team:h,setTeam:x,isOpen:g,setIsOpen:v})};return(0,i.jsxs)(ee.ZP,{open:t,children:[(0,i.jsxs)(ee.$N,{className:s.header,children:[a!==X.MAIN_VIEW&&(0,i.jsx)(m.Av,{onClick:()=>c(X.MAIN_VIEW),children:(0,i.jsx)(o.G,{icon:"caret-left"})}),(0,i.jsx)("div",{children:ne[a]}),(0,i.jsx)(m.Av,{className:s.right,onClick:()=>{n(!1),(u.primary.length||u.secondary.length)&&(e((e=>++e)),p({primary:[],secondary:[]}))},children:"\u2715"})]}),(0,i.jsxs)(ee.cZ,{children:[l&&(0,i.jsx)("div",{style:{width:400},children:(0,i.jsx)(m.bZ,{severity:l.severity,children:l.content})}),a===X.MAIN_VIEW&&(0,i.jsx)(ye,Ae({},f,{addedwokerTeams:u})),a===X.CREATE_TEAM_VIEW&&(0,i.jsx)(be,Ae({},f)),a===X.ASSIGN_TEAM_VIEW&&(0,i.jsx)(ve,Ae({},f,{projectId:r,setAddedWorkerTeams:p}))]})]})};function Pe(e,t,n,i,o,r,s){try{var a=e[r](s),c=a.value}catch(l){return void n(l)}a.done?t(c):Promise.resolve(c).then(i,o)}function Ne(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var r=e.apply(t,n);function s(e){Pe(r,i,o,s,a,"next",e)}function a(e){Pe(r,i,o,s,a,"throw",e)}s(void 0)}))}}function _e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){_e(e,t,n[t])}))}return e}const Re=new Set([a.TaskType.DocumentTranscription,a.TaskType.NamedEntityRecognition,a.TaskType.TextCollection,a.TaskType.ImageAnnotation,a.TaskType.Annotation,a.TaskType.PolygonAnnotation,a.TaskType.PointAnnotation,a.TaskType.LineAnnotation,a.TaskType.VideoPlaybackAnnotation,a.TaskType.VideoAnnotation,a.TaskType.VideoBoxAnnotation,a.TaskType.VideoCuboidAnnotation,a.TaskType.VideoPolygonAnnotation]);const qe=({projectId:e,projectIsActive:t,isLoading:n,projectDisabled:o,compact:r})=>{const{title:s,description:a,className:c}=function(e,t){const n=Le();let i,o="",r="";return t?(i=n.disabledProject,r="Disabled",o="Project is disabled"):e?(i=n.enabledProject,r="Enabled",o="Project is enabled"):(i=n.noActivityProject,r="Inactive",o="Project is enabled but hasn't been activity for 2+ weeks. This BLOCKS the queue, can be fixed by \"Bumping Project Activitiy\" in project's quick actions"),{title:r,description:o,className:i}}(t,o);return(0,i.jsxs)("div",{children:[!r&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(h.x,{children:(0,i.jsx)("strong",{children:"PROJECT STATUS "})}),(0,i.jsx)("br",{})]}),n?(0,i.jsx)(m.D8,{color:"inherit",size:"20px"}):(0,i.jsx)(m.u,{title:a,children:(0,i.jsxs)("div",{style:{display:"flex"},children:[(0,i.jsx)("div",{className:c}),(0,i.jsx)(h.x,{children:s}),(0,i.jsx)("div",{children:(0,i.jsx)("a",{href:`/corp/qm/queue/${e}/disable`,children:" "})})]})})]})},De=({name:e,id:t,searchButton:n})=>{const{isRemoAdmin:s}=(0,T.bE)(),a=Le(),c=((e,t)=>{const{value:n}=(0,b.Z)(Ne((function*(){if(e)try{const n={search:e,exactName:!0};return(yield(0,r.ZP)(null,"corp-api/find/permissiongroups",{query:n})).permissiongroups.map((e=>e._id)).filter((e=>e!==t))}catch(n){}})),[e,t]);return n})(e,t),l=(0,y.useMemo)((()=>c?`Warning: Found ${c.length} other permission group(s) with the same name`:""),[c]),d=(0,y.useMemo)((()=>t?0:1),[t]);return!e||!c||c.length<=d?(0,i.jsx)(i.Fragment,{}):!0===n?(0,i.jsx)(m.u,{title:l,children:(0,i.jsx)(m.hU,{size:"small",onClick:()=>{const t=new URL(window.location.href);t.pathname="corp/search",t.searchParams.set("q",e),window.open(t,"_blank")},children:(0,i.jsx)(o.G,{icon:"engine-warning",color:"var(--color-RemoRed)"})})}):(0,i.jsxs)("div",{className:a.smallText,children:[(0,i.jsx)(o.G,{icon:"engine-warning",color:"var(--color-RemoRed)"}),(0,i.jsxs)("i",{style:{fontWeight:"bold"},children:[" ",l,":"]}),(0,i.jsx)("br",{}),(0,i.jsx)("hr",{}),c.map((e=>(0,i.jsx)("a",{style:{display:"block"},href:`/${s?"remoadmin/tools":"corp"}/lookup/${e}`,target:"_blank",rel:"noopener noreferrer",children:e},e)))]})},Ee=({contents:e})=>(0,i.jsx)(m.hU,{size:"small","data-tip":"Copy to clipboard",onClick:()=>(0,s.v)(e,{excludeOuterQuotes:!0}),children:(0,i.jsx)(o.G,{icon:"copy",color:"lightgrey"})}),Oe={marginTop:"2.5px",marginRight:"5px",padding:"5px",paddingRight:"2.5px",borderRadius:"50%",width:"12px",height:"12px"},Le=(0,x.ZL)({left:{width:270,height:"100%",flexShrink:0,zIndex:1,top:100,overflow:"auto",background:"white",display:"flex",flexDirection:"column",justifyContent:"space-between",paddingRight:8,marginLeft:-24,marginTop:-16},branding:{background:"white",padding:4,display:"flex",width:"100%",borderRadius:8,cursor:"pointer",transition:"background 150ms ease-out","&:hover":{background:"#f2f2f2"},marginBottom:10},projectFieldHeader:{display:"flex",alignItems:"center"},projectLlmTypeHeader:{marginTop:"8px",marginBottom:"8px"},projectLlmTypeUl:{margin:"auto",paddingLeft:"16px"},about:{background:"var(--color-RemoGray01)",borderRadius:8,padding:"8px 16px",overflow:"hidden"},smallText:{fontSize:12},showCallout:{fontSize:12,textAlign:"right",color:"black"},aboutSection:{marginTop:8},callout:{background:"var(--color-RemoGray01)",padding:10,borderRadius:8,marginTop:24},linkButtons:{width:"100%",marginTop:12},textBreak:{wordBreak:"break-all",overflow:"hidden",display:"inline-block"},projectName:{wordBreak:"break-all",overflow:"hidden",display:"inline-block",fontSize:"larger"},switchProject:{marginTop:8},projectStatusContainer:{textAlign:"center"},disabledProject:Be({},Oe,{backgroundColor:"var(--color-RemoRed)"}),noActivityProject:Be({},Oe,{backgroundColor:"var(--color-RemoGold)"}),enabledProject:Be({},Oe,{backgroundColor:"var(--color-RemoGreen)"}),assignModalButton:{color:"var(--color-RemoGreen)",fontWeight:"bold","&:hover":{cursor:"pointer",textDecoration:"underline"}}});var Me=e=>{var t,n,x,g,T,b,C,A,S,I,N,_,B,R,E;const{0:O,1:L}=(0,y.useState)(!1),{0:M,1:$}=(0,y.useState)(!1),{0:Z,1:G}=(0,y.useState)(!1),{0:z,1:W}=(0,y.useState)(!1),{0:F,1:V}=(0,y.useState)(0),H="false"!==localStorage.getItem("showCallout"),{0:Q,1:U}=(0,y.useState)(H),{0:J,1:Y}=(0,y.useState)([]),{0:X,1:ee}=(0,y.useState)([]),{0:te,1:ne}=(0,y.useState)([]),{0:ie,1:oe}=(0,y.useState)(!1),{0:re,1:se}=(0,y.useState)(!1),{0:ae,1:ce}=(0,y.useState)(""),{0:le,1:de}=(0,y.useState)(!1),{0:ue,1:pe}=(0,y.useState)(!1),me=Le(),he=e.project,{0:xe,1:ge}=(0,y.useState)(null===(t=e.project)||void 0===t?void 0:t.permissionGroup),{0:ve,1:fe}=(0,y.useState)((null===(n=e.project)||void 0===n?void 0:n.description)||""),{0:ye,1:Te}=(0,y.useState)((null===(x=e.project)||void 0===x?void 0:x.projectLlmTypes)||[]),{0:je,1:ke}=(0,y.useState)((null===(g=e.project)||void 0===g||null===(T=g.metadata)||void 0===T||null===(b=T.custom)||void 0===b?void 0:b.isAttemptCompare)||!1),be=null===(C=e.project)||void 0===C?void 0:C.name,Ce=null===(A=e.project)||void 0===A?void 0:A.id,Ae=null===(S=e.project)||void 0===S?void 0:S.subprojectMap,Se=null===(I=e.project)||void 0===I?void 0:I.baseProjectId,{data:Ie}=(0,j.pY)({projectId:Ce}),Pe=(null===Ie||void 0===Ie?void 0:Ie.filter((e=>Ce&&e.projectIds.includes(Ce))))||[],_e=null===Pe||void 0===Pe?void 0:Pe.some((e=>e.businessUnit===a.BusinessUnit.GenerativeAIDataEngine)),Be=(0,f.useRouter)(),Oe=(0,k.h)(`corp-api/worker_teams/list_teams_by_project/${Ce}`,{refetchState:F}),Me=(0,k.h)(`corp-api/project-groups?projectId=${Ce}`),$e=Oe.response&&[...Oe.response.primary.map((e=>({name:e.name,tier:"primary",id:e.id}))),...Oe.response.secondary.map((e=>({name:e.name,tier:"secondary",id:e.id}))),...Oe.response.backup.map((e=>({name:e.name,tier:"backup",id:e.id})))],Ze=void 0!==(null===he||void 0===he||null===(N=he.metadata)||void 0===N?void 0:N.maxCompletableTasks)&&-1!==(null===he||void 0===he||null===(_=he.metadata)||void 0===_?void 0:_.maxCompletableTasks)&&(null===he||void 0===he||null===(B=he.metadata)||void 0===B?void 0:B.maxCompletableTasks)<1;return(0,y.useEffect)((()=>{function e(){return(e=Ne((function*(){oe(!0);const e=yield(0,r.ZP)(null,`corp-api/qm/project_roles/?project=${null===he||void 0===he?void 0:he.id}&role=${c.Role.EM}`,{method:"GET"}),t=yield(0,r.ZP)(null,`corp-api/qm/project_roles/?project=${null===he||void 0===he?void 0:he.id}&role=${c.Role.STO}`,{method:"GET"}),n=yield(0,r.ZP)(null,`corp-api/qm/project_roles/?project=${null===he||void 0===he?void 0:he.id}&role=${c.Role.DRI}`,{method:"GET"}),i=e.filter((e=>(!e.stopDate||v()(e.stopDate).isAfter(v()()))&&v()(e.startDate).isBefore(v()()))),o=t.filter((e=>(!e.stopDate||v()(e.stopDate).isAfter(v()()))&&v()(e.startDate).isBefore(v()()))),s=n.filter((e=>(!e.stopDate||v()(e.stopDate).isAfter(v()()))&&v()(e.startDate).isBefore(v()())));Y(i.map((e=>`${e.user.firstName} ${e.user.lastName}`))),ee(o.map((e=>`${e.user.firstName} ${e.user.lastName}`))),ne(s.map((e=>`${e.user.firstName} ${e.user.lastName}`))),oe(!1)}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[he]),(0,y.useEffect)((()=>{function e(){return(e=Ne((function*(){try{de(!0);const e=yield(0,r.ZP)(null,`corp-api/project/${Ce}/isActive`,{method:"GET"});pe(e)}catch(e){pe(!1)}de(!1)}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[he]),(0,y.useEffect)((()=>{function e(){return(e=Ne((function*(){if((null===he||void 0===he?void 0:he.projectType)===l.ProjectType.SelfServe){se(!0);try{const e=yield(0,r.ZP)(null,"corp-api/qm/projects/shadow_project",{method:"POST",body:{project:he}});ce(e)}catch(e){ce("")}se(!1)}}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[he]),(0,i.jsxs)("div",{className:me.left,children:[(0,i.jsx)(we,{showTeamAssignmentDialog:z,setShowTeamAssignmentDialog:W,projectId:null===he||void 0===he?void 0:he.id,setRefetchState:V}),(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:me.branding,children:Ce&&(0,i.jsx)(d.Z,{href:"/qm",style:{color:"black"},children:(0,i.jsx)("span",{children:(0,i.jsx)(m.u,{title:"See all your projects",children:(0,i.jsx)("div",{children:(0,i.jsxs)(h.H1,{children:[" ",(0,i.jsx)(o.G,{icon:"chevron-left"}),(0,i.jsx)("span",{style:{marginLeft:"10px"},children:"Delivery Portal"})]})})})})})}),(0,i.jsxs)("div",{className:me.about,children:[Ce&&(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{children:(0,i.jsxs)("div",{className:me.projectFieldHeader,children:[(0,i.jsx)("strong",{style:{marginTop:"6px",marginBottom:"6px"},children:(0,i.jsx)(m.u,{title:"Go to Delivery Portal Home Page",children:(0,i.jsxs)("a",{href:`/corp/qm/queue/${Ce}`,children:[(0,i.jsx)(o.G,{icon:"house"}),(0,i.jsx)("span",{style:{marginLeft:"5px"},children:"Project Delivery Portal Home"})]})})}),(0,i.jsx)("div",{className:"hsp__1"})]})}),(0,i.jsx)("div",{className:me.smallText,children:(0,i.jsxs)("div",{style:{display:"flex",alignItems:"flex-start"},children:[(0,i.jsx)("strong",{className:me.projectName,children:be}),(0,i.jsx)(Ee,{contents:be})]})}),(0,i.jsxs)("div",{className:[me.smallText,me.projectFieldHeader].join(" "),children:[(0,i.jsx)(h.x,{className:me.textBreak,children:Ce}),(0,i.jsx)(Ee,{contents:Ce})]}),_e&&je&&(0,i.jsx)("div",{children:(0,i.jsx)(h.x,{className:me.textBreak,children:(0,i.jsx)("i",{children:"(Attempt Compare)"})})}),_e&&(0,i.jsx)("div",{style:{marginTop:"6px"},children:(0,i.jsx)(d.Z,{target:"_blank",href:`/genai-ops-hub/projects/${Ce}/overview/project-metrics`,children:(0,i.jsx)(P.zx,{variant:"primary",className:"scaleui scale-theme scale-tailwind flex gap-1 items-center ",size:"lg",children:"View in GenAI Ops Hub"})})}),_e&&!!ye&&(0,i.jsxs)("div",{className:[me.smallText,me.projectFieldHeader,me.projectLlmTypeHeader].join(" "),children:[(0,i.jsxs)(h.x,{children:[(0,i.jsx)("strong",{children:"PROJECT TYPE(S)"}),(0,i.jsxs)("ul",{className:me.projectLlmTypeUl,children:[ye.map(((e,t)=>(0,i.jsx)("li",{children:e},`${e}-${t}`))),0===ye.length&&(0,i.jsx)("li",{children:(0,i.jsx)("i",{children:"None"})})]})]}),(0,i.jsx)(Ee,{contents:ye.join(", ")}),(0,i.jsx)(m.hU,{size:"small","data-tip":"Edit project LLM types",onClick:()=>G(!0),children:(0,i.jsx)(o.G,{icon:"pencil",color:"lightgrey"})}),(0,i.jsx)(q,{projectId:Ce,isModalOpen:Z,hideModal:(e,t)=>{G(!1),t&&Te(e)}})]}),(0,i.jsx)("div",{className:me.smallText,children:(null===he||void 0===he?void 0:he.taskType)&&(0,i.jsx)(u.Z,{type:he.taskType})}),Se&&(0,i.jsx)("div",{className:me.aboutSection,children:(0,i.jsx)(d.Z,{href:`/lookup/${Se}`,children:"BACK TO BASE PROJECT"})}),Ae&&(0,i.jsx)("div",{className:me.aboutSection,children:(0,i.jsx)("div",{children:(0,i.jsxs)(h.x,{children:[(0,i.jsx)("strong",{children:"SUBPROJECTS"}),Object.entries(Ae).map((([e,t])=>(0,i.jsx)("div",{className:me.smallText,children:(0,i.jsx)(d.Z,{href:`/lookup/${t}`,children:e})},t)))]})})}),Q&&(0,i.jsx)("div",{children:xe&&(0,i.jsxs)("div",{className:me.aboutSection,children:[(0,i.jsx)(qe,{projectId:Ce,isLoading:le,projectIsActive:ue,projectDisabled:Ze}),(0,i.jsx)("div",{className:"sp__1"}),(0,i.jsxs)("div",{children:[(0,i.jsx)(h.x,{children:(0,i.jsx)("strong",{children:"PERMISSION GROUP"})}),(0,i.jsx)(h.x,{className:me.smallText,children:"(external project name)"}),(0,i.jsx)(Ee,{contents:xe.id})]}),(0,i.jsxs)("div",{className:[me.smallText,me.textBreak].join(" "),children:[(0,i.jsxs)(h.x,{children:[xe.name," (",xe.id,")"]}),(0,i.jsx)(m.hU,{size:"small","data-tip":"Edit permission group name",onClick:()=>L(!0),children:(0,i.jsx)(o.G,{icon:"pencil",color:"lightgrey"})})]}),(0,i.jsx)(De,{name:xe.name,id:xe.id}),(0,i.jsx)(D.Z,{projectId:Ce,customer:null===he||void 0===he?void 0:he.taskCustomer.id,isModalOpen:O,hideModal:(e="")=>{e&&ge({id:xe.id,name:e}),L(!1)}})]})}),_e&&(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{children:(0,i.jsx)(h.x,{children:(0,i.jsx)("strong",{children:"EXTERNAL DESCRIPTION"})})}),(0,i.jsxs)("div",{className:[me.smallText,me.projectFieldHeader].join(" "),style:{marginTop:"1vh",marginBottom:"1vh"},children:[(0,i.jsx)(h.x,{className:me.textBreak,children:(0,i.jsx)("i",{children:(null===ve||void 0===ve?void 0:ve.length)?ve:"No Description"})}),(0,i.jsx)(Ee,{contents:ve}),(0,i.jsx)(m.hU,{size:"small","data-tip":"Edit project description name",onClick:()=>$(!0),children:(0,i.jsx)(o.G,{icon:"pencil",color:"lightgrey"})}),(0,i.jsx)(w,{projectId:Ce,isModalOpen:M,setModalOpen:$,taskType:null===he||void 0===he?void 0:he.taskType,projectDescription:ve,setProjectDescription:fe,isAttemptCompare:je,setIsAttemptCompare:ke})]})]})]}),Q&&(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:me.aboutSection,children:[(0,i.jsx)("div",{children:(0,i.jsxs)(h.x,{children:[(0,i.jsx)("strong",{children:"CUSTOMER"}),!!he&&(0,i.jsx)(Ee,{contents:null===he||void 0===he?void 0:he.taskCustomer.id})]})}),(null===he||void 0===he?void 0:he.taskCustomer.company)&&(0,i.jsx)("div",{className:me.smallText,children:(0,i.jsxs)(h.x,{children:[null===he||void 0===he?void 0:he.taskCustomer.company," "]})}),(null===he||void 0===he?void 0:he.taskCustomer.email)&&(0,i.jsx)("div",{className:me.smallText,children:(0,i.jsxs)(h.x,{children:[null===he||void 0===he?void 0:he.taskCustomer.email," "]})}),(0,i.jsx)("div",{className:me.smallText,children:(0,i.jsxs)(h.x,{children:[(null===he||void 0===he?void 0:he.taskCustomer.id)||""," "]})}),(0,i.jsx)("div",{className:me.smallText,children:(0,i.jsx)("a",{href:`/tasks?project=${null===he||void 0===he?void 0:he.id}&spoof=${null===he||void 0===he?void 0:he.taskCustomer.id}`,target:"_blank",rel:"noopener noreferrer",children:"Browse Tasks as Customer"})})]}),(0,i.jsx)("div",{className:me.aboutSection,children:(0,i.jsx)("div",{children:(0,i.jsxs)(h.x,{children:[(0,i.jsx)("strong",{children:"PROJECT OWNERS"}),ie?(0,i.jsx)("div",{className:me.smallText,children:(0,i.jsx)(m.D8,{color:"inherit",size:"20px"})}):(0,i.jsxs)(i.Fragment,{children:[J.length>0?(0,i.jsx)(i.Fragment,{children:J.map(((e,t)=>(0,i.jsxs)("div",{className:me.smallText,children:[e," ",(0,i.jsx)("span",{style:{color:"var(--color-RemoGray50)"},children:"(EM)"})]},`em-${t}`)))}):(0,i.jsx)("div",{className:me.smallText,children:"No EM assigned"}),X.length>0?(0,i.jsx)(i.Fragment,{children:X.map(((e,t)=>(0,i.jsxs)("div",{className:me.smallText,children:[e," ",(0,i.jsx)("span",{style:{color:"var(--color-RemoGray50)"},children:"(STO)"})]},`em-${t}`)))}):(0,i.jsx)("div",{className:me.smallText,children:"No STO assigned"}),te.length>0?(0,i.jsx)(i.Fragment,{children:te.map(((e,t)=>(0,i.jsxs)("div",{className:me.smallText,children:[e," ",(0,i.jsx)("span",{style:{color:"var(--color-RemoGray50)"},children:"(Ops DRI)"})]},`opsdri-${t}`)))}):(0,i.jsx)("div",{className:me.smallText,children:"No Ops DRI assigned"})]})]})})}),(null===he||void 0===he?void 0:he.projectType)===l.ProjectType.SelfServe&&(0,i.jsx)("div",{className:me.aboutSection,children:(0,i.jsx)("div",{children:(0,i.jsxs)(h.x,{children:[(0,i.jsxs)("strong",{children:[(null===he||void 0===he?void 0:he.name.includes("shadow_project"))?"MAIN":"SHADOW"," PROJECT"]}),re?(0,i.jsx)("div",{className:me.smallText,children:(0,i.jsx)(m.D8,{color:"inherit",size:"20px"})}):ae?(0,i.jsx)("div",{className:me.smallText,children:(0,i.jsx)("a",{href:`/corp/lookup/${ae}`,target:"_blank",rel:"noopener noreferrer",children:ae})}):(0,i.jsx)("div",{className:me.smallText,children:"Not found"})]})})}),(0,i.jsx)("div",{className:me.aboutSection,children:(0,i.jsx)("div",{children:(0,i.jsxs)(h.x,{children:[(0,i.jsx)("strong",{children:"PROJECT SLA GROUPS"}),Me.response&&Me.response.map((({name:e,id:t})=>(0,i.jsx)("div",{className:me.projectFieldHeader,children:(0,i.jsx)("a",{href:`/corp/project_group/${t}`,target:"_blank",rel:"noopener noreferrer",children:e})},t))),!Me&&(0,i.jsx)("div",{className:me.smallText,children:"Loading..."})]})})}),(0,i.jsx)("div",{className:me.aboutSection,children:(0,i.jsx)("div",{children:(0,i.jsxs)(h.x,{children:[(0,i.jsx)("strong",{children:"WORKER TEAMS"}),(0,i.jsx)("div",{className:me.assignModalButton,onClick:()=>{W(!0)},children:"Create/Connect Worker Team(s)"}),$e&&$e.map((({name:e,tier:t,id:n})=>(0,i.jsxs)("div",{className:[me.smallText,me.textBreak].join(" "),children:[e," (",t,")",(0,i.jsx)(Ee,{contents:e}),(0,i.jsx)(m.hU,{size:"small","data-tip":"open corp team page",onClick:()=>window.open(`/corp/team/${n}`,"_blank"),children:(0,i.jsx)(o.G,{icon:"share-square",color:"#73C2FB"})})]},n))),$e&&0===$e.length&&(0,i.jsx)("div",{className:me.smallText,children:"No worker teams assigned to this project"}),!$e&&(0,i.jsx)("div",{className:me.smallText,children:"Loading..."})]})})}),(0,i.jsx)("div",{className:me.aboutSection,children:(0,i.jsxs)("div",{children:[(0,i.jsx)("strong",{children:"QUALIFICATION LISTS"}),(0,i.jsx)("a",{href:`/corp/qm/queue/${Ce}/qualifications`,children:(0,i.jsx)(m.hU,{size:"small","data-tip":"Edit project qualification lists",children:(0,i.jsx)(o.G,{icon:"pencil",color:"lightgrey"})})}),(0,i.jsx)("div",{className:me.smallText,children:(null===he||void 0===he||null===(R=he.qualificationListIds)||void 0===R?void 0:R.length)?he.qualificationListIds.map((e=>(0,i.jsxs)(y.Fragment,{children:[e,(0,i.jsx)(m.hU,{size:"small","data-tip":"Copy to clipboard",onClick:()=>(0,s.v)(e,{excludeOuterQuotes:!0}),children:(0,i.jsx)(o.G,{icon:"copy",color:"lightgrey"})})]},e))):"None"}),(0,i.jsx)("strong",{children:"WORKER SKILLS"}),(0,i.jsx)("div",{className:me.smallText,children:(null===he||void 0===he||null===(E=he.workerSkillNames)||void 0===E?void 0:E.length)?JSON.stringify(null===he||void 0===he?void 0:he.workerSkillNames):"None"})]})}),(0,i.jsx)("div",{className:me.aboutSection,children:(0,i.jsx)("a",{href:`/corp/qm/queue/${Ce}/config`,children:"Full Configs"})}),Ce&&(0,i.jsx)(d.Z,{href:`/lookup/${Ce}?preventRedirect=true`,children:(0,i.jsx)(m.zx,{className:me.linkButtons,children:"Back to old lookup"})})]}),(0,i.jsx)("div",{className:me.showCallout,children:(0,i.jsxs)("a",{href:"#",style:{color:"black"},onClick:()=>{try{localStorage.setItem("showCallout",(!Q).toString())}catch(e){}U((e=>!e))},children:[Q?"Collapse":"More",(0,i.jsx)(o.G,{style:{marginLeft:"5px"},icon:Q?"chevron-double-up":"chevron-double-down"})]})})]}),(0,i.jsxs)("div",{className:me.switchProject,children:[(0,i.jsx)(h.H3,{children:"Switch Project"}),(0,i.jsx)(p.Z,{onChange:e=>{if(!e)return;const t=Ce?Be.asPath.replace(Ce,e.value):"/corp/qm/queue/"+e.value;Be.push({pathname:t})},showProjectId:!0,width:"100%"})]}),e.project&&(0,i.jsx)(K,{projectId:e.project.id,taskType:e.project.taskType,taskTemplateVersion:e.project.taskTemplateVersion,projectType:e.project.projectType,hasBaseProject:!!e.project.baseProjectId,activeScrollName:e.activeSection,setActionItem:e.setActionItem,quickLinterTaskTypes:Re,usesPipelineV3:e.project.usesPipelineV3})]})]})}},798748:function(e,t,n){var i,o,r,s;n.d(t,{NZ:function(){return i},dB:function(){return o},tC:function(){return r},zZ:function(){return s}}),function(e){e.Overview="Overview",e.SpotterPipeline="Zero Review + Spotter Pipeline",e.ActiveSpotterMetrics="Active Spotter Metrics",e.RecruitSpotters="Recruit Spotters",e.GeneralConfig="General Config",e.Throughput="Throughput",e.DisablingLinting="Disabling & Linting",e.Training="Training",e.Incentives="Incentives",e.Badges="Badges",e.Problems="Problems",e.Benchmarks="Benchmarks",e.Subtasks="Subtasks",e.ArchetypeSelector="Archetype Selector",e.TaskParamsEditor="Task Params Editor",e.TaskTemplatesEditor="Task Templates Editor",e.SpecializedReviewRouting="Specialized Routing",e.TaxonomyManagement="Taxonomy Management",e.DocumentTaskCreator="Document Task Creator",e.PipelineEditor="Pipeline Editor",e.QualityLinters="Quality - Linters",e.ZeroReviewSetupChecklist="Zero Review + Spotter Pipeline Setup List",e.ZeroReviewDailyChecklist="Zero Review + Spotter Pipeline Daily CheckLlst",e.Checklists="CheckLists",e.InlineTools="Inline Tools",e.Autopilot="Autopilot",e.RuleEngine="Rule Engine",e.JsonViewer="JSON Viewer",e.IncidentFlags="Incident Flags",e.Config="Full Configs",e.QualityMetrics="Quality Metrics",e.DocumentModelAuditErrors="Document Model Audit Errors",e.ReviewerFeedback="Reviewer Feedback",e.SpeedAudit="Speed Audit",e.ChatBulkAudit="Chat Bulk Audit",e.BenchmarkSpeedAudit="Benchmark Speed Audit",e.AuditDashboard="Audit Dashboard",e.WorkerPerformance="Worker Performance",e.LLMWorkerPerformance="LLM Worker Quality Report",e.QueryPlayground="Query Playground",e.GraderConfigsEditor="Grader Configs Editor",e.ProjectOwners="Project Owners",e.DisableProject="Enable & Disable Project",e.Priority="Queue Priority",e.Tasks="Tasks",e.ActionDirectory="Action Directory",e.QuickLinters="Quick Linters",e.ActionBatches="Action Batches",e.TaskerOperations="Tasker Operations",e.ProjectTaxonomyVersions="Project Taxonomy Versions",e.ProjectDocumentsAndAnnouncements="Project Documents & Announcements",e.StaffingExceptionForm="Staffing Exception Form",e.InstructionsTaxonomy="Instructions/Taxonomy Editors (NextGen)",e.BillingVersionEditor="Billing Versions",e.PayRateCardPreview="Pay Rate Card Preview",e.Qualifications="Qualifications",e.PaySandbox="Pay Sandbox",e.AVTaxonomyService="Taxonomies + Instructions (Teddy)"}(i||(i={})),function(e){e.Triage="Triage",e.Action="Action"}(o||(o={})),function(e){e.CorpExplain="corp_explain",e.AllocationExplain="allocation_explain",e.MisconfiguredSupplyLevers="misconfigured_supply_levers",e.Throttles="throttles",e.TableauAccess="tableau_access",e.CapacityAllocation="capacity_allocation",e.ThroughputOpsProcesses="throughput_ops_processes",e.PermissionAndAssignAttempters="permission_and_assign_attempters",e.PermissionAndAssignReviewers="permission_and_assign_reviewers",e.PermissionAndAssignPipelineV3QIRAuditors="permission_and_assign_pipeline_v3_qir_auditors",e.MassUnassignProject="mass_unassign_project",e.WorkerSources="worker_sources",e.Placeholder="placeholder_action_item",e.RetroactiveEnableDisable="retroactive_enable_disable",e.BenchmarkConfiguration="benchmark_configuration",e.BenchmarkEnableOrDisable="benchmark_enable_or_disable",e.BenchmarkServingConfigs="benchmark_serving_configs",e.BenchmarkNiceConfigs="benchmark_nice_configs",e.SendTasksToCustomer="send_tasks_to_customer",e.QuarantineAndUnquarantineSubtasks="quarantine_and_unquarantine_subtasks",e.MoveTasksInPipeline="move_tasks_in_pipeline",e.MoveTasksInPipelineV3="move_tasks_in_pipeline_v3",e.TuneMinNumBenchmarksConfig="tune_min_num_benchmarks_config",e.TuneDisablingThresholdConfig="tune_disabling_threshold_config",e.TuneMinNumInstructionItemBenchmarksConfig="tune_min_num_instruction_item_benchmarks_config",e.TuneInstructionItemDisablingThresholdConfig="tune_instruction_item_disabling_threshold_config",e.AllProjectCourses="all_project_courses",e.CourseStarts="course_starts",e.CoursePath="course_path",e.CourseBlockingPoints="course_blocking_points",e.CourseScenarios="course_scenarios",e.GenerateConfusionMatrix="generate_confusion_matrix",e.GenerateFeedbackCenter="generate_feedback_center",e.PersonalizedCourses="personalized_courses",e.InstructionItemManager="instruction_item_manager",e.InstructionUpdateChangelog="instruction_update_changelog",e.CheckForLongTailTasks="check_for_long_tail_tasks",e.DemoteSuspiciousReviewers="demote_suspicious_reviewers",e.AssignTrustedWorkersLTT="assign_trusted_reviewers",e.CheckAssignRejectionsConfig="check_assign_rejections_config",e.SpeedAuditLTT="speed_audit_ltt",e.TuneLinters="tune_linters",e.LinterConfig="linter_config",e.RemedialCourses="remedial_courses",e.LinterDebugging="linter_debugging",e.AuditLintResults="audit_lint_results",e.PermissionAndAssignSuperAttempters="permission_and_assign_super_attempters",e.PermissionAndAssignSpotters="permission_and_assign_spotters",e.SubtaskReservation="subtask_reservation",e.DemoteSuperAttempters="demote_super_attempters",e.DemoteReviewers="demote_reviewers",e.MassDisableTaskers="mass_disable_taskers",e.DemoteSpotters="demote_spotters",e.SendSuperAttempterTasks="send_super_attempter_tasks",e.SendSpotterTasks="send_spotter_tasks",e.SpotterPerformanceDecisionTree="spotter_performance_decision_tree",e.SpotterQualityManualMonitoring="spotter_quality_manual_monitoring",e.ReleaseAuditStages="release_audit_stages",e.SpotterAuditTool="spotter_audit_tool",e.PromoteAttemptersToSpotters="promote_attempters_to_spotters",e.DemoteSpottersToAttempters="demote_spotters_to_attempters",e.TriagePausedPermissionGroup="triage_paused_permission_group",e.AnalyzeInlineComments="analyze_inline_comments"}(r||(r={})),function(e){e.InsufficientCapacityAllocations="insufficient_capacity_allocations",e.LowBenchmarkConversion="low_benchmark_conversion",e.LowInstructionItemBenchmarkConversion="low_instruction_item_benchmark_conversion",e.LowCoursesConversion="low_courses_conversion",e.LongTailTasks="long_tail_tasks",e.Placeholder="placeholder_triage_item"}(s||(s={}))},691165:function(e,t,n){n.d(t,{X:function(){return u}});var i=n(476101),o=n(324465),r=n(551620),s=n(986910),a=n(285556);function c(e){var t,n;const i=null!==(n=null!==(t=null===e||void 0===e?void 0:e.message)&&void 0!==t?t:null===e||void 0===e?void 0:e.toString())&&void 0!==n?n:`Unknown ${(null===e||void 0===e?void 0:e.status)?`, status code: ${e.status}`:""}}`;s.Am.error(`Error: ${i}`),(0,a.cF)(e)}const l=new i.t({onError:c}),d=new o.L({onError:c}),u="localhost"===window.location.hostname?new r.S({queryCache:l,mutationCache:d,defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1}}}):new r.S({queryCache:l,mutationCache:d,defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:!1}}})},635003:function(e,t,n){n.d(t,{Yw:function(){return o},s4:function(){return r},gg:function(){return l}});var i=n(853085);var o;!function(e){e[e.Main=i.R2.GenAIOpsHub]="Main",e[e.Projects=`${i.R2.GenAIOpsHub}/projects`]="Projects",e[e.Onboarding=`${i.R2.GenAIOpsHub}/onboarding`]="Onboarding",e[e.CustomerSetup=`${i.R2.GenAIOpsHub}/customer-setup`]="CustomerSetup",e[e.ProjectSetup=`${i.R2.GenAIOpsHub}/project-setup`]="ProjectSetup",e[e.ProjectSetupLegacy=`${i.R2.GenAIOpsHub}/project-setup-legacy`]="ProjectSetupLegacy",e[e.ProjectLibrary=`${i.R2.GenAIOpsHub}/project-library`]="ProjectLibrary",e[e.VerifiedCourses=`${i.R2.GenAIOpsHub}/verified-courses`]="VerifiedCourses",e[e.Pay=`${i.R2.GenAIOpsHub}/pay`]="Pay",e[e.SlaGroupSetup=`${i.R2.GenAIOpsHub}/SLA-groups-setup`]="SlaGroupSetup",e[e.SlaGroups=`${i.R2.GenAIOpsHub}/SLA-groups`]="SlaGroups",e[e.PodLeadCenter=`${i.R2.GenAIOpsHub}/pod-lead-center`]="PodLeadCenter",e[e.Ots=`${i.R2.GenAIOpsHub}/ots`]="Ots"}(o||(o={}));var r,s,a,c,l,d,u,p,m,h,x,g,v,f,y,T,j,k,b,C;!function(e){e.Linters="linters",e.Training="training",e.Configs="configs",e.Taxonomy="taxonomy",e.Instructions="instructions",e.Tools="tools",e.ProjectConfig="project-config",e.Quality="quality",e.Overview="overview",e.Notifications="notifications",e.Throughput="throughput",e.BenchmarkCenter="benchmark-center",e.Diversity="diversity",e.Finance="finance",e.DeliveryBuilder="deliver-tasks",e.DeliveryHub="delivery-hub",e.Reporting="reporting",e.RemoAdmin="remo-admin",e.Reviewers="reviewers"}(r||(r={})),function(e){e.Pipeline="pipeline",e.ChatTaskAndInstructions="chat-task-and-instructions",e.AllocationAndQualifications="allocation-and-qualifications",e.Benchmarks="benchmarks",e.Graders="graders",e.TimersAndThrottling="timers-and-throttling",e.SpecializedRouting="specialized-routing",e.AuditingAndRubrics="auditing-and-rubrics",e.ChangeLogHistory="change-log-history",e.ChatTask="chat-task",e.TaskReplication="task-replication",e.QualityFirstQueue="quality-first-queue",e.QualityControl="quality-control",e.OffPlatform="off-platform",e.AutoFeedback="auto-feedback"}(s||(s={})),function(e){e.Benchmarks="benchmarks",e.DeployBenchmarks="deploy-benchmarks"}(a||(a={})),function(e){e.Deliveries="deliveries",e.DeliverySender="delivery-sender"}(c||(c={})),function(e){e.CheatingDetection="cheating-detection",e.LintersEval="linters-eval",e.SphereWorkspaceProvisioner="sphere-workspace-provisioner",e.ShareTasks="share-tasks",e.Precog="precog",e.ExplainQueue="explain-queue",e.ModelHealth="model-health"}(l||(l={})),function(e){e.FinanceReport="finance-report",e.FinanceRequests="finance-requests",e.StellarQualityIncentives="stellar-quality-incentives",e.PaySandbox="pay-sandbox",e.CostCenter="cost-center",e.PausedHistory="paused-history"}(d||(d={})),function(e){e.OverviewConfigs="overview-configs"}(u||(u={})),function(e){e.QualityMetricsReport="quality-metrics-report",e.ContributorQualityTable="contributor-quality-table",e.ChatBulkAudit="chat-bulk-audit"}(p||(p={})),function(e){e.ProjectMetrics="project-metrics",e.ProjectInfo="project-info"}(m||(m={})),function(e){e.ProjectBenchmarks="project-benchmarks",e.BenchmarkWall="benchmark-wall",e.ContributorMetrics="contributor-metrics",e.Settings="settings"}(h||(h={})),function(e){e.Editor="editor",e.Configs="configs"}(x||(x={})),function(e){e.ContributorSpecializations="contributor-specializations",e.Configs="configs"}(g||(g={})),function(e){e.ChatTaskConfigs="chat-task-configs",e.GeneralConfigs="general-configs",e.ReviewerFeedback="reviewer-feedback",e.ReviewerFeedbackJson="reviewer-feedback-json"}(v||(v={})),function(e){e.Configs="configs",e.ManageReplications="manage-replications"}(f||(f={})),function(e){e.Qualifications="qualifications",e.Configs="configs"}(y||(y={})),function(e){e.Onboarding="onboarding",e.Courses="courses"}(T||(T={})),function(e){e.ReviewerIdentification="reviewer-identification",e.ReviewerManagement="reviewer-management",e.ReviewerSpotterBenchmarks="reviewer-spotter-benchmarks",e.ActionLogs="action-logs"}(j||(j={})),function(e){e.QCDesignation="quality-control-designation",e.ErrorCategories="error-categories",e.GradingInstructions="grading-instructions"}(k||(k={})),function(e){e.SuspiciousContributors="suspicious-contributors"}(b||(b={})),function(e){e.ExplainQueue="explain-queue",e.EQDashboard="empty-queue-dashboard"}(C||(C={}))},665676:function(e,t,n){n.d(t,{l:function(){return C}});var i=n(824246),o=n(827378),r=n(335331),s=n(298784),a=n.n(s),c=n(68649),l=n(995632),d=n(604375),u=n(138944),p=n(792739),m=n(882693),h=n(285556),x=n(456552),g=n(691165);function v(e,t,n,i,o,r,s){try{var a=e[r](s),c=a.value}catch(l){return void n(l)}a.done?t(c):Promise.resolve(c).then(i,o)}function f({teamId:e,cacheTeamsIds:t}){const n=["teams","worker-teams",e],i=g.X.getQueryData(n);return(0,x.useQuery)(n,(o=function*(){return yield(0,h.ZP)(null,`corp-api/worker_teams/team_root/${e}`,{method:"POST",body:{cacheTeamsIds:t}})},function(){var e=this,t=arguments;return new Promise((function(n,i){var r=o.apply(e,t);function s(e){v(r,n,i,s,a,"next",e)}function a(e){v(r,n,i,s,a,"throw",e)}s(void 0)}))}),{enabled:!!e,initialData:i});var o}var y=n(711877);function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){T(e,t,n[t])}))}return e}function k(e,t){return Array.from({length:e},((e,n)=>t(n)))}const b=()=>(0,i.jsxs)("div",{className:"scaleui scale-theme p-2 flex gap-2",children:[(0,i.jsx)("div",{className:"flex-1",children:(0,i.jsx)(y.Od,{className:"w-full p-3"})}),(0,i.jsx)("div",{className:"flex-1 flex flex-col gap-2",children:k(4,(e=>(0,i.jsx)(y.Od,{className:"w-full p-3"},e)))}),(0,i.jsx)("div",{className:"flex-1 flex flex-col gap-2 ",children:k(4,(e=>(0,i.jsx)(y.Od,{className:"w-full p-3"},e)))})]}),C=({teamId:e,isManager:t,TeamSelectButton:n,onSelectTeam:s})=>{const c=A(),h=(0,o.useRef)(null),{0:x,1:g}=(0,o.useState)(e),{0:v,1:y}=(0,o.useState)({});let T;try{T=(0,r.k6)()}catch(q){}const k=(0,o.useCallback)((t=>{T&&T.replace(T.location.pathname.replace(e,t))}),[T,e]),{data:C,isLoading:S}=f({teamId:x,cacheTeamsIds:a().keys(v)});(0,o.useEffect)((()=>{if(0===a().keys(v).length&&C)y(C);else if(C)for(const e in C)e in v||y((t=>j({},t,{[e]:C[e]})))}),[v,C,S]);const I=(0,o.useMemo)((()=>{let e=x;const t=[],n=a().keys(v);for(n.length&&!n.includes(e)&&(e=a().find(n,(t=>a().includes(v[t].subTeams.map((e=>e.id)),e))));e&&e in v;)t.push(v[e]),e=v[e].parentTeamId;return a().reverse(t)}),[v,x]),w=(0,o.useMemo)((()=>{if(0===I.length)return[];return[[I[0]],...I.map((e=>e.subTeams))].map(((e,t)=>a().sortBy(e,"name").map((e=>{var n;return{id:e.id,highlighted:e.id===(null===(n=I[t])||void 0===n?void 0:n.id),selected:e.id===x,name:e.name,subTeams:e.subTeams}})))).filter((e=>e.length>0))}),[I,x]),P=(0,o.useCallback)(((e,t)=>{g(t)}),[]);(0,o.useLayoutEffect)((()=>{const e=h.current;if(!e)return;const t=e.scrollWidth;e.scrollTo({left:t,behavior:"smooth"})}),[w]);const N=e=>e.length>30?`...${e.substring(e.length-27)}`:e,_=(0,o.useCallback)((e=>{const t=v,n=t[x],i=(null===n||void 0===n?void 0:n.parentTeamId)?t[null===n||void 0===n?void 0:n.parentTeamId]:void 0,o=i?a().sortBy(i.subTeams,"name"):void 0,r=i?a().findIndex(o,(e=>e.id===x)):-1;if("ArrowLeft"===e.key)i&&g(i.id);else if("ArrowRight"===e.key)(null===n||void 0===n?void 0:n.subTeams[0])&&g(n.subTeams[0].id);else if("ArrowUp"===e.key)i&&o&&r>0&&g(o[r-1].id);else{if("ArrowDown"!==e.key)return;i&&o&&r<i.subTeams.length-1&&g(o[r+1].id)}e.stopPropagation(),e.preventDefault()}),[x,v]),[B,R]=(0,l.Z)(!1);return S&&0===I.length?(0,i.jsx)(b,{}):(0,i.jsxs)("div",{tabIndex:0,className:c.container,onKeyDown:_,ref:h,children:[w.filter((e=>e.length>0)).map(((e,t)=>(0,i.jsxs)("div",{className:c.column,children:[e.map((({highlighted:e,selected:t,name:o,id:r,subTeams:a})=>(0,i.jsxs)("div",{className:t&&a.length&&S?c.row:"",children:[(0,i.jsxs)("div",{className:(0,u.default)(c.node,{highlighted:e,selected:t}),draggable:B,onClick:e=>P(e,r),children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"icon",children:(0,i.jsx)(p.G,{icon:a&&a.length<1?"users":"folder"})}),(0,i.jsx)(d.u,{arrow:!0,placement:"top",title:o,enterDelay:1e3,children:(0,i.jsx)("span",{className:"text",children:N(o)})})]}),(0,i.jsx)("span",{className:"icon",onClick:()=>s?s(r,N(o),o):k(r),children:n?(0,i.jsx)(n,{}):(0,i.jsx)(p.G,{icon:"external-link"})})]},r),t&&a.length&&S?(0,i.jsx)("span",{className:c.loadingIcon,children:(0,i.jsx)(d.D8,{size:16})}):null]},r))),B&&t===w.length-1&&(0,i.jsx)("button",{children:"Create Subteam (coming soon?)"})]},t))),t&&(0,i.jsxs)("label",{htmlFor:"switch",children:[(0,i.jsx)(m.Z,{id:"switch",value:B,onChange:R})," Edit Mode (coming soon)"]})]})},A=(0,c.ZL)({container:{display:"flex",overflow:"auto",outline:"none",minWidth:1,"&:focus .selected":{backgroundColor:"#2564D9",color:"white"}},column:{display:"flex",flexBasis:320,flexShrink:0,flexDirection:"column",overflow:"auto",padding:"8px 20px",border:"1px solid #E6E6E6"},row:{display:"grid",gridTemplateColumns:"1fr 20px",alignItems:"center",width:"100%",gap:2,"&:hover":{backgroundColor:"#F1F1F1"}},loadingIcon:{display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(255, 255, 255, 0.8)",width:"100%",height:"100%"},node:{display:"flex",padding:"8px 12px",cursor:"pointer",justifyContent:"space-between","&.highlighted":{backgroundColor:"#DCDDDC"},"&.selected":{backgroundColor:"gray",color:"white"},"& .icon":{color:"#8CD0F7",marginRight:4,minWidth:12,width:12},"& .text":{overflow:"auto"}}})},478:function(e,t,n){n.r(t),n.d(t,{getContentUnderstandingInsightsData:function(){return s},storeContentUnderstandingInsightsData:function(){return c},storeContentUnderstandingCustomizationJSON:function(){return d},getContentUnderstandingCustomizationJSON:function(){return p},refreshContentUnderstandingInsightsData:function(){return h},isInsightsDashboardConfigEnabled:function(){return g},isTaxonomyManagementConfigEnabled:function(){return f},getTrendExplorerData:function(){return T}});var i=n(285556);function o(e,t,n,i,o,r,s){try{var a=e[r](s),c=a.value}catch(l){return void n(l)}a.done?t(c):Promise.resolve(c).then(i,o)}function r(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var s=e.apply(t,n);function a(e){o(s,i,r,a,c,"next",e)}function c(e){o(s,i,r,a,c,"throw",e)}a(void 0)}))}}function s(e,t){return a.apply(this,arguments)}function a(){return(a=r((function*(e,t){return yield(0,i.ZP)(null,"internal/contentUnderstanding/dashboard-insights/fetch",{method:"POST",body:{projectId:e,filename:t}})}))).apply(this,arguments)}function c(e,t,n,i,o,r){return l.apply(this,arguments)}function l(){return(l=r((function*(e,t,n,o,r,s){const{body:a}=yield(0,i.ZP)(null,"internal/contentUnderstanding/dashboard-insights/store",{method:"POST",body:{projectId:e,insightsFilename:t,s3InsightsKey:n,data:o,batchName:r,projectName:s}});return a}))).apply(this,arguments)}function d(e,t){return u.apply(this,arguments)}function u(){return(u=r((function*(e,t){const{body:n}=yield(0,i.ZP)(null,`internal/contentUnderstanding/dashboard-insights/store-customization-json/${e}`,{method:"POST",body:{value:t}});return n}))).apply(this,arguments)}function p(e){return m.apply(this,arguments)}function m(){return(m=r((function*(e){const{body:t}=yield(0,i.ZP)(null,`internal/contentUnderstanding/dashboard-insights/fetch-customization-json/${e}`,{method:"GET"});return t}))).apply(this,arguments)}function h(e){return x.apply(this,arguments)}function x(){return(x=r((function*(e){const{body:t}=yield(0,i.ZP)(null,`internal/contentUnderstanding/dashboard-insights/refresh/${e}`,{method:"POST"});return t}))).apply(this,arguments)}function g(e){return v.apply(this,arguments)}function v(){return(v=r((function*(e){if(!e)return!1;const t=yield(0,i.ZP)(null,`internal/contentUnderstanding/dashboard-insights/is-config-enabled/${e}`,{method:"GET"});return null!==t&&void 0!==t&&t}))).apply(this,arguments)}function f(e){return y.apply(this,arguments)}function y(){return(y=r((function*(e){if(!e)return!1;const t=yield(0,i.ZP)(null,`internal/contentUnderstanding/taxonomy-management/is-config-enabled/${e}`,{method:"GET"});return null!==t&&void 0!==t&&t}))).apply(this,arguments)}function T(e,t){return j.apply(this,arguments)}function j(){return(j=r((function*(e,t){return yield(0,i.ZP)(null,`internal/contentUnderstanding/trend-explorer/fetch/${t}/${e}`,{method:"GET"})}))).apply(this,arguments)}},637723:function(e,t,n){n.d(t,{wO:function(){return s},Y_:function(){return c},Ps:function(){return d},OX:function(){return u}});var i=n(285556);function o(e,t,n,i,o,r,s){try{var a=e[r](s),c=a.value}catch(l){return void n(l)}a.done?t(c):Promise.resolve(c).then(i,o)}function r(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var s=e.apply(t,n);function a(e){o(s,i,r,a,c,"next",e)}function c(e){o(s,i,r,a,c,"throw",e)}a(void 0)}))}}function s(e,t){return a.apply(this,arguments)}function a(){return(a=r((function*(e,t){return yield(0,i.ZP)(null,`corp-api/jobs/${e}`,{method:"POST",body:{name:e,input:JSON.stringify(t),metadata:{reason:`Invoked from ${window.location.href}`},isAsync:!1}})}))).apply(this,arguments)}function c(e,t){return l.apply(this,arguments)}function l(){return(l=r((function*(e,t){return yield(0,i.ZP)(null,`corp-api/jobs/${e}`,{method:"POST",body:{name:e,input:JSON.stringify(t),metadata:{reason:`Invoked from ${window.location.href}`},isAsync:!0}})}))).apply(this,arguments)}const d=function(){var e=r((function*(e,t,n=!1,o=!1){return yield(0,i.ZP)(null,`corp-api/jobs/${e}-dynamicCorpJob`,{method:"POST",body:{name:e,input:JSON.stringify(t),metadata:{reason:"Used Dynamic Corp Page"},isAsync:n,isPoll:o}})}));return function(t,n){return e.apply(this,arguments)}}();function u(e){return p.apply(this,arguments)}function p(){return(p=r((function*(e){return(0,i.ZP)(null,`corp-api/jobs/job/${e}`)}))).apply(this,arguments)}}}]);