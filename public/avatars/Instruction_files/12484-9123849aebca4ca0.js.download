(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[12484],{325744:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var i=n(824246),r=n(827378),o=n(50682),s=n.n(o),a=n(68649),c=n(792739),d=n(60042),l=n.n(d);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){u(e,t,n[t])}))}return e}const f=(0,a.ZL)({wrapper:{borderRadius:"4px",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.3s",fontSize:"14px"},noShrink:{flexShrink:0},off:{color:"rgba(0, 0, 0, 0.5)","&:hover":{color:"rgba(0, 0, 0, 0.6)"},"&:active":{color:"rgba(0, 0, 0, 0.8)"}},on:{background:e=>e.isBlue?"rgba(160, 211, 240, 0.7)":"rgba(0, 0, 0, 0.1)",color:e=>e.isBlue?"rgba(43, 153, 216, 1.0)":"rgba(0, 0, 0, 0.5)","&:hover":{color:e=>e.isBlue?"rgba(43, 153, 216, 1.0)":"rgba(0, 0, 0, 0.6)"},"&:active":{background:e=>e.isBlue?"rgba(160, 211, 240, 1.0)":"rgba(0, 0, 0, 0.2)",color:e=>e.isBlue?"rgba(43, 153, 216, 1.0)":"rgba(0, 0, 0, 0.8)"}},disabled:{pointerEvents:"none",opacity:.2}}),m=e=>{const{name:t,icon:n,tooltip:r,isDisabled:o,isOn:a,onClick:d,onRightClick:u,onHover:m,onBlur:h,invertIcon:g,color:b,placeTop:y,noShrink:x,style:S,size:v,iconStyle:k}=e,T=f(e),j=!(!t||!r);return(0,i.jsxs)("div",{className:l()(T.wrapper,{[T.off]:!a,[T.on]:a,[T.disabled]:o,[T.noShrink]:x}),style:p({},S,{color:null!==b&&void 0!==b?b:""}),onClick:d,onContextMenu:u,onMouseEnter:m,onMouseLeave:h,"data-for":j?`toggleable-icon-${t}`:null,"data-tip":!!j||null,"data-effect":"solid",children:[(0,i.jsx)(c.G,{icon:n,inverse:g,size:v,style:k}),j&&(0,i.jsx)(s(),{place:y?"top":"right",id:`toggleable-icon-${t}`,children:r})]})};var h=r.memo(m)},482065:function(e,t,n){"use strict";n.d(t,{r:function(){return j},Z:function(){return w}});var i=n(824246),r=n(827378),o=n(164926),s=n.n(o),a=n(657113),c=n(60042),d=n.n(c),l=n(213282),u=n(583778),p=n.n(u),f=n(50039),m=n(142246),h=n(540993),g=n.n(h),b=n(651156),y=n.n(b);const x=p()({breaks:!0,typographer:!0,linkify:!0,html:!1,highlight:l.j1});x.use(f.Z,{}),x.use(g(),{blockClass:"math-block",errorColor:" #cc0000"}),x.use(y(),"url_new_win","link_open",l.r3),x.use(m.html5Media);var S=x;function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){v(e,t,n[t])}))}return e}const T=(0,n(542280).ZL)({imageOverride:{"& img":{background:"#eee"}},inlineBlockCode:{"& code":{display:"inline-block",whiteSpace:"pre-wrap",maxWidth:"100%"}}}),j="\x3c!-- Section --\x3e",C=/<!--\s*Section\s*-->/;var w=({text:e,disableLinksInTextAttachment:t,addBackgroundToTransparentImages:n,handleLinkClickHistory:o,addBrightnessSlider:c,addBlurSlider:u,disableFuzzyLinks:p,escapeHtml:f,innerStyle:m})=>{const{0:h,1:g}=(0,r.useState)(c?0:1),{0:b,1:y}=(0,r.useState)(u?0:1),x=f?S:l.ZP;p&&x.linkify.set({fuzzyLink:!1});const v=e.replaceAll("$$.",".$$$$").replaceAll(/ \$ +(.*?) +\$/g," $$$1$$");let w;if(v.includes(j)){w=function(e){const t=[],n=e.split(C);for(let i=1;i<n.length;i++){const e=n[i].trim();t.push({index:i,content:e})}return t}(v).map((e=>`<div>${x.render(e.content)}</div>`)).join("")}else w=x.render(v);t&&(w=s()(w,{allowedTags:s().defaults.allowedTags.filter((e=>"a"!==e)),disallowedTagsMode:"discard"}));const A=T();return(0,i.jsxs)("div",{children:[(0,i.jsx)("link",{rel:"stylesheet",href:"https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.7.0/build/styles/default.min.css"}),(0,i.jsx)("link",{rel:"stylesheet",href:"https://cdn.jsdelivr.net/npm/katex@0.13.18/dist/katex.min.css"}),(0,i.jsx)(a.Z,{addBrightnessSlider:c,addBlurSlider:u,addZoomSlider:!1,setBrightness:g,setBlur:y,brightness:h,blur:b}),(0,i.jsx)("div",{style:k({filter:`brightness(${100*h}%) blur(${50*(1-b)}px)`},"string"===typeof m?{}:m),dangerouslySetInnerHTML:{__html:m&&"string"===typeof m?w.replaceAll("<p>",`<p style="${m}">`):w.replaceAll("<p>",'<p style="margin-bottom: 24px">')},className:d()({[A.inlineBlockCode]:!0,[A.imageOverride]:n}),onClick:e=>(e=>{var t;return"click"===e.type&&(null===(t=e.target)||void 0===t?void 0:t.href)&&o&&o(e.target.href)})(e)})]})}},883617:function(e,t,n){"use strict";n.d(t,{r:function(){return i.r}});var i=n(482065);t.Z=i.Z},784589:function(e,t,n){"use strict";var i=n(824246),r=(n(827378),n(307885));t.Z=e=>{const{popover:t,targetOpen:n,targetClosed:o,isDisabled:s,isOpen:a}=e;return(0,i.jsx)(r.Z,{targetOpen:n,targetClosed:o,popover:t,anchorOrigin:{vertical:"center",horizontal:"right"},transformOrigin:{vertical:"center",horizontal:-12},disabled:s,isOpen:a})}},947072:function(e,t,n){"use strict";n.d(t,{Z:function(){return j},A:function(){return C}});var i=n(824246),r=n(679892),o=n.n(r),s=n(298784),a=n.n(s),c=n(827378),d=n(208528),l=n(60042),u=n.n(l),p=n(792739),f=n(773851),m=n(942662),h=n(411356),g=n(802638),b=n(775222),y=n(599789),x=n(167469),S=n(369985);const v={[y.BasicLidarCorruptions.BasicLabel]:"Labels / Attributes",[y.BasicLidarCorruptions.BasicAttribute]:"Labels / Attributes",[y.BasicLidarCorruptions.BasicRecall]:"Missing / Unnecessary Cuboids",[y.BasicLidarCorruptions.BasicRecallPedestrian]:"Missing Pedestrian Cuboids",[y.BasicLidarCorruptions.BasicZ]:"Cuboids Don't Touch the Ground",[y.BasicLidarCorruptions.BasicPosition]:"Position, Cuboids are Not Centered",[y.BasicLidarCorruptions.BasicSize]:"Sizing, Missing Points",[y.BasicLidarCorruptions.BasicMissingKeyframe]:"Position / Sizing at Each Frame",[y.BasicLidarCorruptions.BasicParkedAttribute]:"Stationary Vehicle Not Parked",[y.BasicVideoCorruptions.Height]:"Box Sizing",[y.BasicVideoCorruptions.SingleFrameSize]:"Box Sizing",[y.BasicVideoCorruptions.GroupedAttribute]:"Labels / Attributes",[y.BasicVideoCorruptions.Attribute]:"Labels / Attributes",[y.BasicVideoCorruptions.GlobalPathAttributeText]:"Annotation Path Attribute",[y.BasicLidarSegCorruptions.Label]:"Incorrect Instance Labels",[y.BasicLidarSegCorruptions.Instance]:"Instances Must be Unique",[y.BasicTextCollectionCorruptions.RemoveCategory]:"Missing Categories",[y.BasicTextCollectionCorruptions.RemoveItem]:"Missing Items",[y.BasicTextCollectionCorruptions.RemovePrice]:"Incorrect Prices",[y.BasicTextCollectionCorruptions.RemoveExtra]:"Missing Extras",[y.BasicTextCollectionCorruptions.RemoveOption]:"Missing Options",[y.BasicTextCollectionCorruptions.MutatePrice]:"Incorrect Prices",[y.BasicTextCollectionCorruptions.RemoveModel]:"Missing Model",[y.BasicTextCollectionCorruptions.MutateProductDescription]:"Incorrect Description",[y.BasicTextCollectionCorruptions.MutateUPC]:"Incorrect UPC",[y.BasicSemsegCorruptions.Label]:"Incorrect Labels",[y.BasicImageCorruptions.Missing]:"Missing Annotation",[y.BasicImageCorruptions.Extraneous]:"Extraneous Annotation",[y.BasicDocumentCorruptions.Typo]:"Incorrect Labels"},k=(0,f.remotasksURL)("/feedback"),T=(0,f.remotasksURL)("/activity");function j({corruptionAccuracy:e=-1,improvedAccuracyCorruptionTypes:t=[],lowAccuracyCorruptionTypes:n=[],taskType:r}){const[s,a]=(0,d.Z)(!1),[c,l]=(0,d.Z)(!0),u=n.length>0;return(0,i.jsxs)(g.u_,{contentLabel:"CorruptionWarning",maxWidth:"500px",isOpen:c,children:[(0,i.jsxs)(S.kn,{children:[(0,i.jsx)(S.pH,{icon:u?"lightbulb-exclamation":"badge-check",color:u?"#000000":"#19B629"}),u?"Your last review had quality issues":"Your last review had high quality"]}),(0,i.jsx)(S.Ys,{children:(0,i.jsx)(C,{corruptionAccuracy:e,improvedAccuracyCorruptionTypes:t,lowAccuracyCorruptionTypes:n,taskType:r})}),(0,i.jsxs)(S.tu,{children:[(0,i.jsx)("div",{className:"jsx-9ffbd012d7916494 checkbox",children:(0,i.jsxs)(h.__,{style:{display:"flex",alignItems:"center",height:"100%"},children:[(0,i.jsx)(h.o2,{checked:s,onChange:a}),(0,i.jsx)("span",{className:"jsx-9ffbd012d7916494 guidelines",children:"I agree to the reviewing guidelines"})]})}),(0,i.jsx)("div",{className:"jsx-9ffbd012d7916494 submit",children:(0,i.jsx)(m.Z,{type:"primary",disabled:u&&!s,onClick:l,style:{width:"100%"},children:"Begin Task"})})]}),(0,i.jsx)(o(),{id:"9ffbd012d7916494",children:".checkbox.jsx-9ffbd012d7916494{-webkit-flex:1 0 68%;-ms-flex:1 0 68%;flex:1 0 68%;margin-right:2%}.guidelines.jsx-9ffbd012d7916494{margin-left:5px;display:inline-block}.submit.jsx-9ffbd012d7916494{-webkit-flex:1 0 30%;-ms-flex:1 0 30%;flex:1 0 30%}"})]})}function C({corruptionAccuracy:e=-1,improvedAccuracyCorruptionTypes:t=[],lowAccuracyCorruptionTypes:n=[],postReviewSubmission:r=!1,taskType:s}){(0,c.useEffect)((()=>{!function(e=[],t=[]){const n=e.map((e=>({type:e,feedback:"failed"}))),i=t.map((e=>({type:e,feedback:"improved"}))),r=[...n,...i];b.c.track("Corruption Warning Modal Loaded",{corruptions:r})}(n,t)}),[n,t]);const a=n.length>0,d=t.length>0,l=e>=0,u=function(e){return e===x.TaskType.LidarAnnotation}(s);return(0,i.jsxs)("div",{className:"jsx-8c73455c55b7821f",children:[!a&&(0,i.jsx)("div",{className:"jsx-8c73455c55b7821f message",children:"Good job passing our automatic quality checks in this review!"}),a&&(0,i.jsx)(w,{corruptionTypes:n}),d&&(0,i.jsx)(w,{corruptionTypes:t,isImprovement:!0}),(0,i.jsx)(A,{postReviewSubmission:r,hasQualityIssues:a}),r&&l&&u&&(0,i.jsx)(R,{corruptionAccuracy:e}),(0,i.jsx)(o(),{id:"8c73455c55b7821f",children:".message.jsx-8c73455c55b7821f{padding-bottom:10px}"})]})}function w({corruptionTypes:e,isImprovement:t=!1}){return(0,i.jsx)(_,{title:t?"Improvement":"Issues",icon:"clipboard-check",children:(0,i.jsxs)(c.Fragment,{children:[E(e).map((e=>(0,i.jsx)("span",{className:"jsx-a53807d08bc41796 "+(u()("tag",t?"tag--improvement":"tag--issue")||""),children:e},e))),(0,i.jsx)(o(),{id:"a53807d08bc41796",children:".tag.jsx-a53807d08bc41796{-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;display:inline-block;margin:8px 8px 8px 0;padding:8px;white-space:nowrap}.tag--improvement.jsx-a53807d08bc41796{background-color:#d9eeff}.tag--issue.jsx-a53807d08bc41796{background-color:#fbd0cf}"})]})})}function A({hasQualityIssues:e,postReviewSubmission:t}){return(0,i.jsx)(_,{title:"Support",icon:"lightbulb",children:(0,i.jsxs)(c.Fragment,{children:[e&&!t&&(0,i.jsx)("div",{className:"jsx-178e30db1f9bbdd5 support-reminder",children:"Remember to pay attention to these quality issues. We will let you know after submitting if you are improving!"}),e?(0,i.jsxs)("div",{className:"jsx-178e30db1f9bbdd5",children:["If quality issues continue in future tasks, you will be removed as a Reviewer. We recommend reviewing task instructions and courses to improve your skills, visiting the"," ",(0,i.jsx)("a",{href:k,className:"jsx-178e30db1f9bbdd5",children:"feedback center"})," and your"," ",(0,i.jsx)("a",{href:T,className:"jsx-178e30db1f9bbdd5",children:"task log"}),", and using Slack to ask questions."]}):(0,i.jsxs)("div",{className:"jsx-178e30db1f9bbdd5",children:["Keep improving your skills by reviewing task instructions and courses, visiting the"," ",(0,i.jsx)("a",{href:k,className:"jsx-178e30db1f9bbdd5",children:"feedback center"})," and your"," ",(0,i.jsx)("a",{href:T,className:"jsx-178e30db1f9bbdd5",children:"task log"}),", and using Slack to ask questions."]}),(0,i.jsx)(o(),{id:"178e30db1f9bbdd5",children:".support-reminder.jsx-178e30db1f9bbdd5{padding-bottom:10px}"})]})})}function R({corruptionAccuracy:e=-1}){if(e<0)return null;let t="Your payout will not be immediately affected, but if our manual quality checks reveal that your quality is low, your pay may be reduced and you may be demoted to an attempter.";return 100===e?t="You will receive a $1 bonus for this review.":e<50&&(t="Your payout for this review will be reduced by 50%."),(0,i.jsx)(_,{title:"Payout",icon:"badge-dollar",children:t})}function _({icon:e,title:t,children:n}){return(0,i.jsxs)("div",{className:"jsx-bd6792ab18570ebb section",children:[(0,i.jsxs)("div",{className:"jsx-bd6792ab18570ebb section-title",children:[(0,i.jsx)(p.G,{icon:e})," ",(0,i.jsx)("div",{className:"jsx-bd6792ab18570ebb section-title__title",children:t})]}),(0,i.jsx)("div",{className:"jsx-bd6792ab18570ebb section-children",children:n}),(0,i.jsx)(o(),{id:"bd6792ab18570ebb",children:".section.jsx-bd6792ab18570ebb{color:#000}.section.jsx-bd6792ab18570ebb:not(:last-child){padding-bottom:10px}.section-title.jsx-bd6792ab18570ebb{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;font-size:14px;font-weight:bold;padding-bottom:2px}.section-title__title.jsx-bd6792ab18570ebb{margin-left:11px}.section-children.jsx-bd6792ab18570ebb{font-size:14px;padding:1px}"})]})}function E(e){return a().compact(e.map((e=>v[e])))}},203577:function(e,t,n){"use strict";n.d(t,{a5:function(){return i},I8:function(){return N},fq:function(){return r},oS:function(){return B},HA:function(){return L},Qz:function(){return F}});var i,r,o=n(824246),s=n(679892),a=n.n(s),c=n(827378),d=n(298784),l=n.n(d),u=n(959807),p=n.n(u),f=n(50682),m=n.n(f),h=n(792739),g=n(648628),b=n.n(g),y=n(101409),x=n(942662),S=n(802638),v=n(210918),k=n(997653),T=n(599789),j=n(167469),C=n(369985),w=n(947072),A=n(883617),R=n(554211),_=n(841892),E=n(430775);function O(e,t,n,i,r,o,s){try{var a=e[o](s),c=a.value}catch(d){return void n(d)}a.done?t(c):Promise.resolve(c).then(i,r)}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){I(e,t,n[t])}))}return e}function N(e){switch(e){case i.Approve:return T.TaskReviewOutcome.Accepted;case i.ApproveWithChanges:return T.TaskReviewOutcome.Fixed;case i.Reject:case i.SendBackToQueue:case i.SendBackToQueueWithChanges:return T.TaskReviewOutcome.Rejected;default:return}}!function(e){e[e.Submit=0]="Submit",e[e.Approve=1]="Approve",e[e.Reject=2]="Reject",e[e.ApproveWithChanges=3]="ApproveWithChanges",e[e.SendBackToQueue=4]="SendBackToQueue",e[e.SendBackToQueueWithChanges=5]="SendBackToQueueWithChanges",e[e.Continue=6]="Continue"}(i||(i={})),function(e){e[e.Send=0]="Send",e[e.Sending=1]="Sending",e[e.Sent=2]="Sent",e[e.Failed=3]="Failed"}(r||(r={}));const B={[i.SendBackToQueueWithChanges]:{[r.Send]:"Send Back To Queue With Changes",[r.Sending]:"Send Back To Queue With Changes",[r.Sent]:"Sent Back To Queue With Changes",[r.Failed]:"Send Back To Queue With Changes Failed"},[i.Submit]:{[r.Send]:"Submit Task",[r.Sending]:"Submitting",[r.Sent]:"Submitted",[r.Failed]:"Submit Failed"},[i.Approve]:{[r.Send]:"Approve Task",[r.Sending]:"Approving",[r.Sent]:"Approved",[r.Failed]:"Approve Failed"},[i.Reject]:{[r.Send]:"Reject Task",[r.Sending]:"Rejecting",[r.Sent]:"Rejected",[r.Failed]:"Reject Failed"},[i.ApproveWithChanges]:{[r.Send]:"Approve With Changes",[r.Sending]:"Approving With Changes",[r.Sent]:"Approved With Changes",[r.Failed]:"Approve With Changes Failed"},[i.SendBackToQueue]:{[r.Send]:"Send Back To Queue",[r.Sending]:"Sending Back To Queue",[r.Sent]:"Sent Back To Queue",[r.Failed]:"Send Back To Queue Failed"},[i.Continue]:{[r.Send]:"Continue",[r.Sending]:"Continue",[r.Sent]:"Continue",[r.Failed]:"Could Not Continue"}};function L({annotationCount:e=0,children:t,disableModal:n=!1,estimate:i=8e3,nextTaskHandler:s,preSendChecks:d,sendHandler:u,taskProjectId:f,getTimeSpent:m,setTimeSpent:g,taskType:I,taskUserId:P,type:N,lowAccuracyCorruptionTypes:L,improvedAccuracyCorruptionTypes:F,corruptionAccuracy:M,autoloadNextAssignment:Z=!1,isTestQuestion:D,hideOnFail:U,postCompletionFeedback:G,shortcutEnabled:z,attemptSubmittedAndGraded:$,setPostSubmissionGraph:W,taskId:H,assignmentId:Q,reviewLevel:q}){var Y;const{0:V,1:J}=(0,c.useState)(!1),{0:K,1:X}=(0,c.useState)(0),{0:ee,1:te}=(0,c.useState)(r.Send),ne=(0,R.ZP)("show-submit-confirmation",{projectId:f},!1),ie=(0,R.ZP)("show-post-submission-graph",{projectId:f},!1);(0,c.useEffect)((()=>{I===j.TaskType.LidarAnnotation&&$&&ee===r.Sending&&(X(100),te(r.Sent))}),[ee,$,I]);const re=(0,c.useCallback)((oe=function*(){var e,t,o;if(T.twoDTypes.includes(I)&&ne&&(null!==(o=null===g||void 0===g?void 0:g())&&void 0!==o?o:(null!==(t=null===m||void 0===m||null===(e=m())||void 0===e?void 0:e.taskTimeSpent)&&void 0!==t?t:0)>6e3)&&!confirm("Confirm submission?"))return;if(d&&!(yield d()))return;const a=(new Date).getTime();te(r.Sending);const c=setInterval((()=>{const e=(new Date).getTime(),t=Math.floor(e-a),n=Math.floor(100*t/i);n<=99&&X(n)}),50);try{yield u(N),clearInterval(c),I!==j.TaskType.LidarAnnotation&&(X(100),yield p().delay(200),n&&Z?(te(r.Sent),ie?null===W||void 0===W||W(!0):null===s||void 0===s||s()):te(n?r.Send:r.Sent))}catch(l){throw clearInterval(c),te(r.Failed),U&&!D&&(yield p().delay(3e3),ce()),n&&(yield p().delay(3e3),te(r.Send)),(0,k.dO)(l,"approve-with-changes-failed",{extras:{taskUserId:P,taskProjectId:f}}),E.Z.error("Approve attempt failure.",{errorType:"approve-attempt-failed",error:l,errorMessage:l.message,errorStack:l.stack,taskUserId:P,taskProjectId:f,taskId:H,assignmentId:Q,reviewLevel:q}),l}},function(){var e=this,t=arguments;return new Promise((function(n,i){var r=oe.apply(e,t);function o(e){O(r,n,i,o,s,"next",e)}function s(e){O(r,n,i,o,s,"throw",e)}o(void 0)}))}),[d,i,u,n,Z,s,I,ie,H,Q,q]);var oe;(0,_.oB)(re,N,!z||ee!==r.Send);const se=(0,c.useCallback)((()=>{J(!0)}),[]),ae=(0,c.useCallback)((()=>{if(D)return ce();se(),null===s||void 0===s||s()}),[s,se]),ce=(0,c.useCallback)((()=>{J(!1),te(r.Send)}),[]),{name:de,emoji:le}=(0,v.getLidarNickname)(P,f,I),ue=P||f||I,pe=function(e,t){switch(e){case j.TaskType.Annotation:case j.TaskType.VideoBoxAnnotation:return 1===t?"box":"boxes";case j.TaskType.AudioTranscription:return 1===t?"word":"words";case j.TaskType.Categorization:return 1===t?"taxonomy":"taxonomies";case j.TaskType.Comparison:case j.TaskType.DataCollection:return 1===t?"field":"fields";case j.TaskType.LaneAnnotation:return 1===t?"lane":"lanes";case j.TaskType.CuboidAnnotation:case j.TaskType.LidarAnnotation:case j.TaskType.LidarLinking:case j.TaskType.LidarStitching:case j.TaskType.VideoCuboidAnnotation:return 1===t?"cuboid":"cuboids";case j.TaskType.LineAnnotation:return 1===t?"line":"lines";case j.TaskType.PointAnnotation:return 1===t?"point":"points";case j.TaskType.PolygonAnnotation:return 1===t?"polygon":"polygons";case j.TaskType.Transcription:return 1===t?"transcription":"transcriptions";case j.TaskType.LidarSegmentation:case j.TaskType.SegmentAnnotation:return 1===t?"point":"points";case j.TaskType.FixAnnotation:case j.TaskType.NamedEntityRecognition:case j.TaskType.PhoneCall:default:return"annotations"}}(I,e),fe=!l().isUndefined(L)||!l().isUndefined(F)||!l().isUndefined(M),me=b()(m?m().taskTimeSpent:0);var he;return(0,o.jsxs)(c.Fragment,{children:[(0,o.jsxs)(S.u_,{isOpen:!n&&ee!==r.Send,maxWidth:480,top:"50%",transform:"translateY(-50%)",margin:"auto",children:[(0,o.jsxs)(C.kn,{children:[ee===r.Sending&&(0,o.jsx)(C.pH,{icon:"sync-alt",color:"#008EFF"}),ee===r.Sent&&(0,o.jsx)(C.pH,{icon:"check-circle",color:"#008EFF"}),ee===r.Failed&&(0,o.jsx)(C.pH,{icon:"exclamation-triangle",color:"#008EFF"}),ee===r.Sending&&`Your task is ${B[N][r.Sending].toLowerCase()}... please do not refresh or close this window`,ee===r.Sent&&`Your task was successfully ${B[N][r.Sent].toLowerCase()}!`,ee===r.Failed&&B[N][r.Failed]]}),(0,o.jsxs)(C.Ys,{children:[!!ue&&(0,o.jsxs)("div",{className:"jsx-b9f02d2a6f71af85 body__item",children:[(0,o.jsx)(y.Z,{emoji:le})," ",de]}),!!e&&!!pe&&(0,o.jsxs)("div",{className:"jsx-b9f02d2a6f71af85 body__item",children:[(0,o.jsx)(h.G,{icon:"user-tag"})," ",e," ",pe]}),(0,o.jsxs)("div",{className:"jsx-b9f02d2a6f71af85 body__item",children:[(0,o.jsx)(h.G,{icon:"clock"})," ",me," taken"]})]}),fe&&(0,o.jsx)(C.Ys,{children:(0,o.jsx)(w.A,{lowAccuracyCorruptionTypes:L,improvedAccuracyCorruptionTypes:F,corruptionAccuracy:M,taskType:I})}),ee===r.Sent&&G&&(0,o.jsx)(C.Ys,{children:(0,o.jsx)("div",{style:{fontWeight:"normal",color:"black"},className:"jsx-b9f02d2a6f71af85",children:(0,o.jsx)(A.Z,{text:G})})}),(0,o.jsxs)(C.tu,{children:[ee===r.Sending&&(0,o.jsx)(c.Fragment,{children:(0,o.jsxs)("div",{className:"jsx-b9f02d2a6f71af85 progress",children:[(0,o.jsx)("div",{style:{width:`${K}%`},className:"jsx-b9f02d2a6f71af85 progress__bar"}),(0,o.jsxs)("div",{className:"jsx-b9f02d2a6f71af85 progress__text",children:[K,"%"]})]})}),ee===r.Sent&&(0,o.jsx)("div",{className:"jsx-b9f02d2a6f71af85 footer__item",children:(0,o.jsx)(x.Z,{type:"button",onClick:ae,primary:!0,style:{width:"100%"},disabled:V,children:D?"Review My Results":"Next Task"})}),ee===r.Failed&&(0,o.jsx)("div",{className:"jsx-b9f02d2a6f71af85 footer__item",children:(0,o.jsx)(x.Z,{type:"button",onClick:ce,primary:!0,style:{width:"100%"},disabled:V,children:"Close"})})]})]}),t({disabled:ee!==r.Send,onClick:re,text:null!==(he=null===B||void 0===B||null===(Y=B[N])||void 0===Y?void 0:Y[ee])&&void 0!==he?he:"Next (error)"}),(0,o.jsx)(a(),{id:"b9f02d2a6f71af85",children:".body__item.jsx-b9f02d2a6f71af85:not(:last-child){margin-right:25px}.footer__item.jsx-b9f02d2a6f71af85{-webkit-flex:1 0 49%;-ms-flex:1 0 49%;flex:1 0 49%}.footer__item.jsx-b9f02d2a6f71af85:not(:last-child){margin-right:2%}.progress.jsx-b9f02d2a6f71af85{background:rgba(0,142,255,.5);-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;height:34px;overflow:hidden;position:relative;width:100%}.progress__bar.jsx-b9f02d2a6f71af85{background:#008eff;-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;height:100%;left:0;position:absolute;top:0}.progress__text.jsx-b9f02d2a6f71af85{color:#fff;font-size:11px;font-weight:500;height:100%;line-height:34px;position:relative;text-align:center;width:100%;z-index:1}"})]})}function F({appearance:e="default",arrows:t=!1,disabled:n,hasMargin:r=!0,onClick:s,children:a,tooltip:c,type:d}){let l={};return"default"!==e||d!==i.Submit&&d!==i.Continue||(l={style:{marginLeft:r?"15px":"0"},primary:!0,disabled:n,onClick:s,tooltip:c,type:"button"}),"lidar"===e&&d===i.Submit&&(l={primary:!0,disabled:n,onClick:s,tooltip:c,type:"button",arrows:t,size:"lg",className:"full"}),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{"data-tip":c||"Submit task when complete","data-for":"submit-tooltip",children:(0,o.jsx)(x.Z,P({},l,{children:a}))}),(0,o.jsx)(m(),{id:"submit-tooltip",delayShow:250})]})}},369985:function(e,t,n){"use strict";n.d(t,{kn:function(){return a},pH:function(){return c},Ys:function(){return d},tu:function(){return l}});var i=n(824246),r=n(679892),o=n.n(r),s=(n(827378),n(792739));function a({children:e}){return(0,i.jsxs)("div",{className:"jsx-2b1716236f75cef3 header",children:[e,(0,i.jsx)(o(),{id:"2b1716236f75cef3",children:".header.jsx-2b1716236f75cef3{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:#000;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;font-size:20px;font-weight:600;padding:28.5px;text-align:left}"})]})}function c({icon:e,color:t="#008EFF"}){return(0,i.jsxs)("div",{className:"jsx-11272ab49c8a1413 header-icon",children:[(0,i.jsx)(s.G,{icon:e,color:t}),(0,i.jsx)(o(),{id:"11272ab49c8a1413",children:".header-icon.jsx-11272ab49c8a1413{font-size:31px;line-height:31px;margin-right:20.5px}"})]})}function d({children:e}){return(0,i.jsxs)("div",{className:"jsx-15f08a4afc80dd1 body",children:[e,(0,i.jsx)(o(),{id:"15f08a4afc80dd1",children:".body.jsx-15f08a4afc80dd1{border-top:1px solid#f1f1f1;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;padding:25px;color:#000;font-weight:500}"})]})}function l({children:e}){return(0,i.jsxs)("div",{className:"jsx-69f3c649b4d7be64 footer",children:[e,(0,i.jsx)(o(),{id:"69f3c649b4d7be64",children:".footer.jsx-69f3c649b4d7be64{border-top:1px solid#f1f1f1;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;padding:25px}"})]})}},657113:function(e,t,n){"use strict";var i=n(824246),r=n(827378),o=n(68649),s=n(888824),a=n(298784),c=n.n(a),d=n(271682),l=n(701245),u=n.n(l),p=n(390547);const f=(0,o.ZL)({toolbar:{background:"#FFFFFF",boxShadow:"0px 3px 12px rgba(0, 0, 0, 0.15)",borderRadius:"4px",textAlign:"center",padding:"0px",margin:"4px"},footer:{position:"absolute",bottom:"12px",display:"flex",flexDirection:"row",justifyContent:"flex-end",marginLeft:"-104px",width:"100%",opacity:1,transition:"opacity 0.25s",zIndex:1e3},zoom:{display:"inline-block",color:"#808080",fontSize:"11px",lineHeight:"16px",letterSpacing:"0.1px",textAlign:"center",width:"4em",userSelect:"none"}});t.Z=({addBrightnessSlider:e,addBlurSlider:t,addZoomSlider:n,setBrightness:o,setBlur:a,brightness:l,blur:m,zoom:h,onZoomIncrease:g,onZoomDecrease:b,Minus:y,Plus:x,zoomLevels:S,formatPercent:v})=>{const k=(0,r.useRef)(0),T=(0,r.useRef)(0),j=(0,r.useRef)(0),C=f(),w=(0,r.useCallback)((()=>{o(0)}),[o]),A=(0,r.useCallback)((()=>{a(0)}),[a]);(0,r.useEffect)((()=>{if(k.current=l,T.current=m,h){j.current=h;const e=new(u())(document.documentElement);return e.bind("plus",(function(){g()})),e.bind("minus",(function(){b()})),()=>{e.detach()}}}),[l,m,h,b,g]);const R=(0,r.useCallback)((e=>{e.preventDefault(),k.current=c().min([1,k.current+.1]),T.current=c().min([1,T.current+.1]),o(k.current),a(T.current)}),[o,a]),_=(0,r.useCallback)((e=>{e.preventDefault(),k.current=c().max([0,k.current-.1]),T.current=c().max([0,T.current-.1]),o(k.current),a(T.current)}),[o,a]),E=(0,r.useCallback)((e=>{e.preventDefault(),k.current=1,T.current=1,o(k.current),a(T.current)}),[o,a]),O=(0,r.useCallback)((e=>{e.preventDefault(),k.current=.25,T.current=.25,o(k.current),a(T.current)}),[o,a]);return(0,d.ZP)({action:R,keydown:!0,trigger:"."}),(0,d.ZP)({action:_,keydown:!0,trigger:","}),(0,d.ZP)({action:E,keydown:!0,trigger:"]"}),(0,d.ZP)({action:O,keydown:!0,trigger:"["}),(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:C.footer,children:[n&&h&&S&&y&&x&&v&&g&&b&&(0,i.jsxs)("div",{className:C.toolbar,children:[(0,i.jsx)(p.Z,{disabled:h<=S[0],onClick:b,children:(0,i.jsx)(y,{})}),(0,i.jsx)("div",{className:C.zoom,children:v(h)}),(0,i.jsx)(p.Z,{disabled:h>=S[S.length-1],onClick:g,children:(0,i.jsx)(x,{})})]}),e&&(0,i.jsx)("div",{className:C.toolbar,children:(0,i.jsx)(s.Z,{value:l,onAdjust:o,iconName:"sun",toolName:"Image Brightness",onReset:w,onlyShowSlider:!0})}),t&&(0,i.jsx)("div",{className:C.toolbar,children:(0,i.jsx)(s.Z,{value:m,onAdjust:a,iconName:"eye",toolName:"Image Blur",onReset:A,onlyShowSlider:!0})})]})})}},888824:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var i=n(824246),r=n(827378),o=n(325744),s=n(68649),a=n(792739),c=n(164161),d=n(784589),l=n(138944);const u=(0,s.ZL)({popoverHorizontal:{width:232,minHeight:20,padding:"12px 16px",display:"flex",flexDirection:"row-reverse",alignItems:"center",gap:20},popoverVertical:{height:232,minWidth:20,padding:"16px 0",display:"flex",flexDirection:"column",alignItems:"center",gap:16},innerSlider:{flexGrow:1},button:{textTransform:"lowercase",letterSpacing:0,cursor:"pointer","&:hover":{transition:"all 0.2s",opacity:.7,transform:"scale(1.1)"}},resetColor:{color:"rgba(0, 0, 0, 0.3)"}});var p=e=>{const t=u(),{targetOpen:n,targetClosed:o,innerSliderIcon:s,value:p,onAdjust:f,adjustmentMultiplier:m,adjustmentOffset:h,onReset:g}=e,b=(0,r.useCallback)((e=>{f(e*(null!==m&&void 0!==m?m:1)+(null!==h&&void 0!==h?h:0))}),[f,m,h]),y=(0,r.useCallback)((()=>{g?g():f(1)}),[f,g]),x=(0,r.useCallback)((()=>{f(null!==m&&void 0!==m?m:1)}),[f,m]),S=(p-(null!==h&&void 0!==h?h:0))/(null!==m&&void 0!==m?m:1),v=(0,i.jsxs)("div",{className:e.onlyShowSlider?t.popoverHorizontal:t.popoverVertical,children:[(0,i.jsx)("div",{className:t.button,onClick:x,children:s}),(0,i.jsx)("div",{className:t.innerSlider,children:(0,i.jsx)(c.Z,{vertical:!e.onlyShowSlider,position:S,onAdjust:b})}),(0,i.jsx)("div",{className:(0,l.default)(t.button,t.resetColor),onClick:y,children:(0,i.jsx)(a.G,{icon:"undo-alt"})})]});return e.onlyShowSlider?v:(0,i.jsx)(d.Z,{popover:v,targetOpen:n,targetClosed:o})};const f=(0,n(604375).ZL)({adjustmentButton:{marginTop:"4px"},toolTip:{marginBottom:"4px"}});var m=e=>{const t=f(),n=(0,i.jsx)("div",{children:(0,i.jsx)("div",{className:t.toolTip,children:e.toolName})}),r=e.iconName,s=(0,i.jsx)("div",{className:t.adjustmentButton,children:(0,i.jsx)(o.Z,{name:e.toolName,tooltip:n,icon:r,isOn:!0})}),c=(0,i.jsx)("div",{className:t.adjustmentButton,children:(0,i.jsx)(o.Z,{name:e.toolName,tooltip:n,icon:r,isOn:!1})});var d;return(0,i.jsx)(p,{targetOpen:s,targetClosed:c,innerSliderIcon:(0,i.jsx)(a.G,{icon:r}),value:e.value,onAdjust:e.onAdjust,adjustmentMultiplier:null!==(d=e.adjustmentMultiplier)&&void 0!==d?d:1,onReset:e.onReset,onlyShowSlider:e.onlyShowSlider})}},841892:function(e,t,n){"use strict";n.d(t,{p7:function(){return a},ve:function(){return c},oB:function(){return d}});var i=n(271682),r=n(938644),o=n(986004),s=n(203577);n(599789);function a(e,t,n){(0,i.ZP)({trigger:r.zd[r.PO.MakeChanges],action:e.action,disabled:e.disabled,description:"Make changes",type:r.PO.MakeChanges,group:r.Jl.ReviewButtons,forceNotEditable:!0}),(0,i.ZP)({trigger:r.zd[r.PO.RejectReview],action:t.action,disabled:t.disabled,description:"Send attempt back to queue",type:r.PO.RejectReview,group:r.Jl.ReviewButtons,forceNotEditable:!0}),(0,i.ZP)({trigger:r.zd[r.PO.CancelActionReview],action:n.action,disabled:n.disabled,description:"Cancel current action",type:r.PO.CancelActionReview,group:r.Jl.ReviewButtons,forceNotEditable:!0})}function c(e,t=!1){(0,i.ZP)({trigger:r.zd[r.PO.SkipStudioTask],action:e.action,disabled:e.disabled,description:`Skip ${t?"review":"attempt"} task`,type:r.PO.SkipStudioTask,group:t?r.Jl.ReviewButtons:r.Jl.AttemptButtons,forceNotEditable:!0})}function d(e,t,n){let a,c=r.$g,d="",l=r.Jl.ReviewButtons;switch(t){case s.a5.Submit:c=r.zd[r.PO.SubmitTask],d="Submit",a=r.PO.SubmitTask,l=r.Jl.AttemptButtons;break;case s.a5.Approve:case s.a5.ApproveWithChanges:c=r.zd[r.PO.ApproveReview],d="Approve",a=r.PO.ApproveReview;break;case s.a5.Reject:case s.a5.SendBackToQueue:case s.a5.SendBackToQueueWithChanges:c=r.zd[r.PO.RejectReview],d="Reject / send back to queue",a=r.PO.RejectReview}(0,i.ZP)({trigger:c,action:e,description:d,type:a,group:l,disabled:n,forceNotEditable:!o.IS_FEDERAL})}},775143:function(e,t,n){"use strict";n.r(t),n.d(t,{SET_CURRENT_USER:function(){return R},EXTEND_BATCH:function(){return _},COMPLETE_ASSIGNMENTS:function(){return E},SHOW_CORRUPTION_FEEDBACK:function(){return O},SHOW_POST_COMPLETION_FEEDBACK:function(){return I},SKIP_ASSIGNMENT:function(){return P},REPORT_ASSIGNMENT:function(){return N},FLAG_ASSIGNMENT:function(){return B},NEXT_ASSIGNMENT:function(){return L},UPDATE_CLAIMS:function(){return F},UPDATE_PROJECT_BENCHMARK_METRICS:function(){return M},COMPLETE_INSTRUCTIVE:function(){return Z},SET_BONUSES:function(){return D},DISPLAY_NEW_BONUS:function(){return U},handleErrorsAndJsonify:function(){return G},fetchCorp:function(){return W},fetchApi:function(){return H},fetchCurrentUser:function(){return Q},updateBenchmarkStats:function(){return q},fetchNextAssignments:function(){return Y},skipBatch:function(){return V},skipTask:function(){return J},reportTask:function(){return K},flagTask:function(){return X},nextTask:function(){return ee},checkAssignmentClaim:function(){return ie},refreshAssignmentClaims:function(){return re},completeAttempt:function(){return oe},completeSupplementalCourse:function(){return se},completeReviewAssignment:function(){return ae},completeReviewAssignments:function(){return de},TRAINING_ACTIONS:function(){return le},fetchCourse:function(){return fe},beginCourse:function(){return me},skipCourse:function(){return he},continueCourse:function(){return ge},certificationTimeRemainingSecsSync:function(){return be},fetchBonuses:function(){return ye},displayNewBonus:function(){return xe},acceptProjectPricing:function(){return Se},rejectProjectPricing:function(){return ve}});var i=n(298784),r=n.n(i),o=n(252708),s=n.n(o),a=n(468891),c=n(959807),d=n.n(c),l=n(459025),u=n(285556),p=n(203441),f=n(626199),m=n(797680),h=n(98283),g=n(430775),b=n(791257),y=n(775222),x=n(951041),S=n(599789),v=n(167469),k=n(350615),T=n(746332),j=n(761077),C=n(203577);function w(e,t,n,i,r,o,s){try{var a=e[o](s),c=a.value}catch(d){return void n(d)}a.done?t(c):Promise.resolve(c).then(i,r)}function A(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var o=e.apply(t,n);function s(e){w(o,i,r,s,a,"next",e)}function a(e){w(o,i,r,s,a,"throw",e)}s(void 0)}))}}const R="SET_CURRENT_USER",_="EXTEND_BATCH",E="COMPLETE_ASSIGNMENTS",O="SHOW_CORRUPTION_FEEDBACK",I="SHOW_POST_COMPLETION_FEEDBACK",P="SKIP_ASSIGNMENT",N="REPORT_ASSIGNMENT",B="FLAG_ASSIGNMENT",L="NEXT_ASSIGNMENT",F="UPDATE_CLAIMS",M="UPDATE_PROJECT_BENCHMARK_METRICS",Z="COMPLETE_INSTRUCTIVE",D="SET_BONUSES",U="DISPLAY_NEW_BONUS";function G(e){return z.apply(this,arguments)}function z(){return(z=A((function*(e){if(!e.ok)throw new p.Z(e.statusText,yield(0,m.u)(e));return e.json()}))).apply(this,arguments)}function $(e,t,n={}){let i=e.slice();return n.returnRawResponse=!n.parseAndHandle,delete n.parseAndHandle,n.body&&(n.body=JSON.stringify(n.body),n.headers||(n.headers={"Content-Type":"application/json"})),n.query&&(i=`${i}?${a.stringify(n.query)}`),delete n.query,(0,u.ZP)(null,`${t}${i}`,n)}function W(e,t={}){return $(e,"corp-api",t)}function H(e,t={}){return $(e,"internal",t)}function Q(e){return function(){var t=A((function*(t){e=e||(yield H("/logged_in_user").then(G)),t({type:R,user:e})}));return function(e){return t.apply(this,arguments)}}()}function q(){return function(){var e=A((function*(e,t){const n=r().get(t(),"batch.assignments",[]),i=r().uniq(n.map((e=>r().get(e.project,"_id",e.project))).filter((e=>!!e))),o="?projects="+i.join("&projects="),s=i.length>0?yield H(`/scaler/work/project-benchmark-stats${o}`).then(G):{};e({type:M,perProjectBenchmarkMetrics:s})}));return function(t,n){return e.apply(this,arguments)}}()}function Y(e,t=!1,n){(0,T.isMobileUserAgent)(window.navigator.userAgent)&&(e.mobileAgent=1);const i=r().omit(e,"review_mode","limit");var o;i.kind="0"===(o=e.review_mode)?"task":"1"===o?"review":void 0;const a=(c=i,r().map(c,((e,t)=>e?`&${t}=${e}`:"")).join(""));var c;return function(){var e=A((function*(e,i){const o=i();if(r().get(o,"batch.assignments.length",0)>2)return void q()(e,i);const c=null!==n&&void 0!==n?n:1;try{const t=r().uniqBy(yield H(`/v2/tasks/new_queue?limit=${c}${a}`).then(G),(e=>null===e||void 0===e?void 0:e._id)),n=t[0];if((null===n||void 0===n?void 0:n.redirectLink)&&(null===n||void 0===n?void 0:n.assignmentType)===S.AssignmentType.Redirect){const e=n.redirectLink;return void(e&&(window.location.href=e))}try{{const e=(0,x.zY)(),t="scale-experimental"===l.get("branch")&&"scale-experimental"!==e,n=!l.get("branch")&&"scale-experimental"===e;(t||n)&&(g.Z.warn(`Refreshing user because their deploy changed old=${e} new=${l.get("branch")}`),window.location.reload())}}catch(d){g.Z.error("Got error trying to determine user's correct branch in queue logic")}const i=t.filter((e=>e.assignmentType===S.AssignmentType.Course))[0];i&&e({type:le.SET_COURSE,course:i}),e({type:le.SET_LOADING,isLoading:!1}),e({type:_,assignments:(0,f.WG)(t)}),e(q())}catch(u){if(u.response&&403===u.response.status)u.response.error===k.F?window.location="/account":window.location="/forbidden";else if(u.response&&429===u.response.status)s().error("You have refreshed this page too quickly, or opened many windows at the same time. Please slow down, and don't refresh across multiple windows. You can retry after one minute.",{timeout:"none"});else if(s().error(u.message,{timeout:3e3}),t)throw u}}));return function(t,n){return e.apply(this,arguments)}}()}function V(e,t,n,i){return function(){var r=A((function*(r,o){const s=yield H("/batch/skip",{method:"POST",body:{batchId:t,info:{skipReason:n,skipExplanation:i}}}).then(G);s.tooManySkips?alert("You have already reached the limit on skips for the day."):(Y(e)(r,o),r({type:P,response:s}))}));return function(e,t){return r.apply(this,arguments)}}()}function J(e,t,n,i){const r=(0,x.tQ)();g.Z.warn("Skipped Task",{assignmentId:t._id,attemptId:t.attemptId,skipReason:n,skipExplanation:i,pageLoadId:r});const o={skipReason:n,skipExplanation:i};let s,a,c;return(0,b.isLegacyReviewAssignment)(t)?(a=[t.attemptId],c="/attempts/unassign"):(s=[t._id],c="/tasks/unassign"),function(){var t=A((function*(t){const n=yield H(c,{method:"POST",body:{taskIds:s,attemptIds:a,isSkippedTask:!0,isSkipUserInitiated:!0,info:o}}).then(G);n.tooManySkips?alert("You have already reached the limit on skips for the day."):(t(Y(e)),t({type:P,response:n}))}));return function(e){return t.apply(this,arguments)}}()}function K(e,t,n,i){const r=(0,x.tQ)();return g.Z.warn("Reported Task",{assignmentId:t._id,attemptId:t.attemptId,reportReason:n,reportExplanation:i,pageLoadId:r}),function(){var o=A((function*(o,s){const a=yield H("/tasks/report",{method:"POST",body:{taskId:t._id,reportReason:n,reportExplanation:i}}).then(G);a.tooManySkips?(alert("You have already reached the limit on reports for the day."),g.Z.warn("Task Report Limit Reached",{assignmentId:t._id,attemptId:t.attemptId,reportReason:n,reportExplanation:i,pageLoadId:r})):(Y(e)(o,s),o({type:N,response:a}))}));return function(e,t){return o.apply(this,arguments)}}()}function X(e,t,n,i){const r=(0,x.tQ)();return g.Z.warn("Flagged Task",{assignmentId:t._id,attemptId:t.attemptId,flagCategory:n,reason:i,pageLoadId:r}),function(){var r=A((function*(r,o){const s=yield H("/tasks/flag",{method:"POST",body:{taskId:t._id,flagCategory:n,reason:i}}).then(G);Y(e)(r,o),r({type:B,response:s})}));return function(e,t){return r.apply(this,arguments)}}()}function ee(e,t=!1,n){return function(){var i=A((function*(i,o){try{if(t)window.location.href="/qa/audit";else{const t=o();r().get(t,"batch.forceFixAssignment")||(i({type:L}),yield Y(e,!0,n)(i,o))}}catch(s){window.location.reload()}}));return function(e,t){return i.apply(this,arguments)}}()}const te=["task_id","timeSpentSecs","timeSpentLoadingSecs","oldTimeSpentSecs"],ne={annotation:[...te,"annotations"],audiotranscription:te,fixannotation:[...te,"annotation"],polygonannotation:[...te,"annotations"],lineannotation:[...te,"annotations"],laneannotation:[...te,"annotations"],pointannotation:[...te,"annotations"]};function ie({stage:e,task:t,attempt:n,elapsedTime:i,force:o}){return function(){var s=A((function*(s){const{forceClaim:c}=a.parse(window.location.search),d={stage:e,task:t,attempt:n,elapsedTime:i,usingForceClaimLink:"1"===c},{tasks:l,attempts:u,stages:p,currentPageHasEditLock:f,otherUserHasLock:m,canOverride:h,hasForcePermission:g,needsRefresh:b}=yield H("/tasks/check_claim",{method:"POST",body:d}).then(G);if(g&&o)return;const y={};r().each(r().concat(l,u,p),(e=>{y[e.id]={claimed:e.claimed,claimedUntil:new Date(e.claimedUntil),maxClaim:new Date(e.maxClaim||Date.now()+1e3),idleMinutes:parseInt(e.idleMinutes),checkedAt:new Date(e.checkedAt),checkedAtClientTime:new Date,hasWarning:e.hasWarning,warningParams:e.warningParams,corruptionFeedback:e.corruptionFeedback,needsRefresh:!!e.needsRefresh}})),s({type:F,claims:y,currentPageHasEditLock:f,otherUserHasLock:m,canOverride:h,needsRefresh:b})}));return function(e){return s.apply(this,arguments)}}()}function re({stages:e,tasks:t,attempts:n,elapsedTime:i,force:o}){return function(){var s=A((function*(s){const a={reclaim:{tasks:t,attempts:n,stages:e},elapsedTime:i},c=yield H("/tasks/check_claim",{method:"POST",body:a}).then(G);if(c.hasForcePermission&&o)return;const d={};r().each(r().concat(c.tasks,c.attempts,c.stages),(e=>{d[e.id]={claimed:e.claimed,claimedUntil:new Date(e.claimedUntil),maxClaim:new Date(e.maxClaim||Date.now()+1e3),idleMinutes:parseInt(e.idleMinutes),checkedAt:new Date(e.checkedAt),checkedAtClientTime:new Date,hasWarning:e.hasWarning,warningParams:e.warningParams,corruptionFeedback:e.corruptionFeedback}})),s({type:F,claims:d})}));return function(e){return s.apply(this,arguments)}}()}function oe(e,t,n={}){return n.timeSpentLoadingSecs||(n.timeSpentLoadingSecs=-1),(e=>{const t=ne[e]||[];return e=>{r().each(t,(t=>{if(!r().has(e,t))throw Error(`${t} is required in \`completeAttempt\``)}))}})(t)(n),n.toolSource=j.xC.Classic,function(){var i=A((function*(i,r){const o=t===v.TaskType.Categorization,s={body:n,method:"POST"};let a;if(o){const n=function(){var n=A((function*(){a=yield H(`/complete/${t}`,s).then(G),Y(e)(i,r)}));return function(){return n.apply(this,arguments)}}();yield n()}else if(a=yield H(`/complete/${t}`,s).then(G),!a)return;return a.trainingAttempt&&i({type:Z,instructiveResponse:a.trainingAttempt}),y.c.track("Completed Task",{time_elapsed_in_seconds:n.timeSpentSecs,task_id:n.task_id,num_annotations:n.annotations&&n.annotations.length,type:t},{traits:{pageLoadId:(0,x.tQ)()}}),a}));return function(e,t){return i.apply(this,arguments)}}()}function se(e){return function(){var t=A((function*(t,n){t({type:L}),t({type:le.SET_COURSE_PROGRESS,courseProgress:{currentSection:-1}});const i=n().batch.assignments.filter((e=>e.assignmentType===S.AssignmentType.Course))[0];t({type:le.SET_COURSE,course:i}),i||Y(e)(t,n)}));return function(e,n){return t.apply(this,arguments)}}()}function ae(e,t,{isCorrect:n,timeSpentSecs:i,populateHypothesis:o,oldTimeSpentSecs:s,timeSpentLoadingSecs:a,trueReviewOutcome:c,reviewChanges:d,benchmark:l,comments:u,fullstorySession:p,extra:f,auditResult:m,categorizationResult:b,taskFeedback:S,sendType:v,linterMetrics:k,documentRotation:T,documentRotationPerPage:w,attemptBehaviourLog:R,enabledFeatures:_},E=(()=>{})){return function(){var P=A((function*(A){const P={attemptId:t.attemptId,reviewTimeSecs:i,reviewOldTimeSecs:s,reviewTimeLoadingSecs:a,attemptVersion:t.attemptVersion,trueReviewOutcome:null!==c&&void 0!==c?c:void 0!==v?(0,C.I8)(v):void 0,reviewResult:n?"correct":"incorrect",populateHypothesis:o,reviewChanges:d,benchmark:l,comments:u,fullstorySession:p,extra:f,auditResult:m,categorizationResult:b,taskFeedback:S,toolSource:j.xC.Classic,sendType:void 0!==v?C.a5[v]:void 0,linterMetrics:k,documentRotation:T,documentRotationPerPage:w,attemptBehaviourLog:R,enabledFeatures:_},N=yield H(`/complete/review/${t.type}`,{body:P,method:"POST"}).then(G);if(!N)return;yield E(),g.Z.log(`Succesfully completed review: ${t.attemptId} with taskFeedback ${S}`);const B=r().get(N,"corruptionFeedback.corruptionAccuracy"),L=null===N||void 0===N?void 0:N.postCompletionFeedback;if(0===B||B)A({type:O,corruptionFeedback:N.corruptionFeedback,corruptionFeedbackAttempt:N.attempt,confidenceAction:N.confidenceAction,reviewTimeSecs:P.reviewTimeSecs});else{if(N.trainingAttempt&&A({type:Z,instructiveResponse:N.trainingAttempt}),L&&A({type:I,postCompletionFeedback:L}),!1===r().get(N.trainingAttempt,"submitted"))return N;e=r().omit(e,"lidarId"),N.confidenceAction?(0,h.ZP)(null,`/corrected_reviews?confidenceAction=${N.confidenceAction}`):y.c.track("Completed Task",{time_elapsed_in_seconds:P.reviewTimeSecs,type:t.type},{traits:{pageLoadId:(0,x.tQ)()}})}return N}));return function(e){return P.apply(this,arguments)}}()}const ce=function(){var e=A((function*(e,{isCorrect:t,timeSpentSecs:n,populateHypothesis:i,oldTimeSpentSecs:r,timeSpentLoadingSecs:o,reviewChanges:s,benchmark:a,comments:c,fullstorySession:d,extra:l,auditResult:u,taskFeedback:p}){const f={attemptId:e.attemptId,reviewTimeSecs:n,reviewOldTimeSecs:r,reviewTimeLoadingSecs:o,attemptVersion:e.attemptVersion,reviewResult:t?"correct":"incorrect",populateHypothesis:i,reviewChanges:s,benchmark:a,comments:c,fullstorySession:d,extra:l,auditResult:u,taskFeedback:p};yield H(`/complete/review/${e.type}`,{body:f,method:"POST"}).then(G),y.c.track("Completed Task",{time_elapsed_in_seconds:f.reviewTimeSecs,type:e.type},{traits:{pageLoadId:(0,x.tQ)()}})}));return function(t,n){return e.apply(this,arguments)}}();function de(e,t,n){return function(){var i=A((function*(i){yield d().map(t,function(){var e=A((function*(e,t){try{yield ce(e,n[t])}catch(i){}}));return function(t,n){return e.apply(this,arguments)}}(),{concurrency:3}),i({type:E,assignments:t}),i(Y(e=r().omit(e,"lidarId")))}));return function(e){return i.apply(this,arguments)}}()}const le={SET_LOADING:"TRAINING_ACTIONS/SET_LOADING",SET_COURSE:"TRAINING_ACTIONS/SET_COURSE",SET_COURSE_PROGRESS:"TRAINING_ACTIONS/SET_COURSE_PROGRESS",SET_COURSE_ERROR:"TRAINING_ACTIONS/SET_COURSE_ERROR"};function ue(e,t){var n;const i=null===t||void 0===t||null===(n=t.certificationInfo)||void 0===n?void 0:n.randomizedSections;i&&i.length>0&&(e.sections=i)}function pe(e,t){const n=null===t||void 0===t?void 0:t.overridingSections;n&&n.length>0&&(e.sections=n)}function fe(e,t){return function(){var n=A((function*(n){n({type:le.SET_LOADING,isLoading:!0});let i=!1;let r=`/courses/${encodeURIComponent(e)}`;t&&(r+=`?tag=${t}`);const o=yield H(r,{}).then(G).catch((e=>(i=!0,e.response)));if(i)return n({type:le.SET_LOADING,isLoading:!1}),void n({type:le.SET_COURSE_ERROR,courseError:o.error||"There was an error loading the course"});const{course:s,courseProgress:a}=o;ue(s,a),pe(s,a),n({type:le.SET_COURSE,course:s}),n({type:le.SET_COURSE_PROGRESS,courseProgress:a}),n({type:le.SET_LOADING,isLoading:!1})}));return function(e){return n.apply(this,arguments)}}()}function me(e,t){return function(){var n=A((function*(n,i){n({type:le.SET_LOADING,isLoading:!0});const r={method:"POST",body:{permissionId:t}},o=yield H(`/courses/${e}/begin`,r).then(G),s=i().training.course,{courseProgress:a}=o;ue(s,a),pe(s,a),n({type:le.SET_COURSE,course:s}),n({type:le.SET_COURSE_PROGRESS,courseProgress:a}),n({type:le.SET_LOADING,isLoading:!1})}));return function(e,t){return n.apply(this,arguments)}}()}function he(e,t){return function(){var n=A((function*(n,i){n({type:le.SET_LOADING,isLoading:!0});yield H(`/courses/${t}/skip`,{method:"POST"}).then(G),n({type:le.SET_LOADING,isLoading:!1}),n({type:L});const r=i().batch.assignments.filter((e=>e.assignmentType===S.AssignmentType.Course))[0];n({type:le.SET_COURSE,course:r}),r||Y(e)(n,i)}));return function(e,t){return n.apply(this,arguments)}}()}function ge(e,t){return function(){var n=A((function*(n){n({type:le.SET_LOADING,isLoading:!0});const i={method:"POST",body:t},r=yield H(`/courses/${e}/continue`,i).then(G),{courseProgress:o}=r;pe(o.course,o),n({type:le.SET_COURSE_PROGRESS,courseProgress:r.courseProgress}),n({type:le.SET_LOADING,isLoading:!1})}));return function(e){return n.apply(this,arguments)}}()}function be(e,t){return function(){var n=A((function*(n){const i={method:"POST",body:{certificationTimeRemainingSecs:t}},r=yield H(`/courses/${e}/certificationTimeRemainingSecsSync`,i).then(G);n({type:le.SET_COURSE_PROGRESS,courseProgress:r.courseProgress})}));return function(e){return n.apply(this,arguments)}}()}function ye(e=!1){return function(){var t=A((function*(t){const n=yield H("/scaler/work/bonuses/current_and_completed",{method:"GET"}).then(G);t({type:D,bonuses:n,first:e})}));return function(e){return t.apply(this,arguments)}}()}function xe(e){return function(){var t=A((function*(t){t({type:U,bonus:e})}));return function(e){return t.apply(this,arguments)}}()}function Se(e,t){return A((function*(){yield H("/rateconsent/accept",{method:"POST",body:{projectId:e,rate:t}}).then(G),window.location.reload(),yield d().delay(5e3)}))}function ve(e,t){return A((function*(){yield H("/rateconsent/reject",{method:"POST",body:{projectId:e,rate:t}}).then(G),window.location.reload(),yield d().delay(5e3)}))}},325219:function(){},39550:function(){},614029:function(){},361305:function(){}}]);